function cov_2g6xcc6z91(){var path="C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-client-logic\\update-worker.spec.js";var hash="92b526ea82918286d8facfb726fc2423462bf176";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-client-logic\\update-worker.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:96},end:{line:3,column:103}},"2":{start:{line:5,column:19},end:{line:5,column:43}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:19},end:{line:7,column:34}},"5":{start:{line:8,column:0},end:{line:8,column:44}},"6":{start:{line:9,column:35},end:{line:9,column:64}},"7":{start:{line:10,column:63},end:{line:10,column:89}},"8":{start:{line:11,column:15},end:{line:11,column:34}},"9":{start:{line:12,column:0},end:{line:12,column:43}},"10":{start:{line:13,column:16},end:{line:13,column:36}},"11":{start:{line:15,column:0},end:{line:15,column:25}},"12":{start:{line:17,column:0},end:{line:17,column:20}},"13":{start:{line:19,column:0},end:{line:94,column:2}},"14":{start:{line:20,column:4},end:{line:20,column:47}},"15":{start:{line:20,column:17},end:{line:20,column:46}},"16":{start:{line:24,column:4},end:{line:43,column:6}},"17":{start:{line:25,column:8},end:{line:25,column:33}},"18":{start:{line:27,column:8},end:{line:27,column:33}},"19":{start:{line:28,column:8},end:{line:28,column:39}},"20":{start:{line:29,column:8},end:{line:29,column:40}},"21":{start:{line:30,column:8},end:{line:30,column:41}},"22":{start:{line:31,column:8},end:{line:31,column:37}},"23":{start:{line:32,column:8},end:{line:32,column:45}},"24":{start:{line:33,column:8},end:{line:33,column:47}},"25":{start:{line:34,column:8},end:{line:34,column:49}},"26":{start:{line:35,column:8},end:{line:35,column:44}},"27":{start:{line:36,column:8},end:{line:36,column:53}},"28":{start:{line:37,column:8},end:{line:37,column:48}},"29":{start:{line:40,column:8},end:{line:40,column:47}},"30":{start:{line:41,column:8},end:{line:41,column:51}},"31":{start:{line:45,column:4},end:{line:71,column:6}},"32":{start:{line:46,column:8},end:{line:51,column:10}},"33":{start:{line:47,column:25},end:{line:47,column:170}},"34":{start:{line:49,column:12},end:{line:50,column:63}},"35":{start:{line:50,column:33},end:{line:50,column:62}},"36":{start:{line:53,column:8},end:{line:70,column:10}},"37":{start:{line:54,column:12},end:{line:54,column:156}},"38":{start:{line:56,column:28},end:{line:56,column:47}},"39":{start:{line:58,column:27},end:{line:58,column:34}},"40":{start:{line:60,column:12},end:{line:60,column:33}},"41":{start:{line:61,column:12},end:{line:61,column:51}},"42":{start:{line:62,column:12},end:{line:62,column:50}},"43":{start:{line:63,column:12},end:{line:63,column:46}},"44":{start:{line:64,column:12},end:{line:64,column:55}},"45":{start:{line:65,column:12},end:{line:65,column:56}},"46":{start:{line:66,column:12},end:{line:66,column:58}},"47":{start:{line:67,column:12},end:{line:67,column:58}},"48":{start:{line:68,column:12},end:{line:68,column:84}},"49":{start:{line:69,column:12},end:{line:69,column:66}},"50":{start:{line:73,column:4},end:{line:87,column:6}},"51":{start:{line:75,column:8},end:{line:79,column:10}},"52":{start:{line:76,column:12},end:{line:76,column:47}},"53":{start:{line:77,column:12},end:{line:78,column:63}},"54":{start:{line:78,column:33},end:{line:78,column:62}},"55":{start:{line:80,column:8},end:{line:86,column:10}},"56":{start:{line:81,column:12},end:{line:85,column:18}},"57":{start:{line:83,column:20},end:{line:83,column:42}},"58":{start:{line:84,column:20},end:{line:84,column:101}},"59":{start:{line:91,column:4},end:{line:91,column:40}},"60":{start:{line:91,column:20},end:{line:91,column:39}},"61":{start:{line:93,column:4},end:{line:93,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:19,column:34},end:{line:19,column:35}},loc:{start:{line:19,column:40},end:{line:94,column:1}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:20,column:11},end:{line:20,column:12}},loc:{start:{line:20,column:17},end:{line:20,column:46}},line:20},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:15},end:{line:24,column:16}},loc:{start:{line:24,column:27},end:{line:43,column:5}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:45,column:28},end:{line:45,column:29}},loc:{start:{line:45,column:34},end:{line:71,column:5}},line:45},"4":{name:"(anonymous_4)",decl:{start:{line:46,column:19},end:{line:46,column:20}},loc:{start:{line:46,column:31},end:{line:51,column:9}},line:46},"5":{name:"(anonymous_5)",decl:{start:{line:50,column:22},end:{line:50,column:23}},loc:{start:{line:50,column:33},end:{line:50,column:62}},line:50},"6":{name:"(anonymous_6)",decl:{start:{line:53,column:47},end:{line:53,column:48}},loc:{start:{line:53,column:59},end:{line:70,column:9}},line:53},"7":{name:"(anonymous_7)",decl:{start:{line:73,column:32},end:{line:73,column:33}},loc:{start:{line:73,column:38},end:{line:87,column:5}},line:73},"8":{name:"(anonymous_8)",decl:{start:{line:75,column:19},end:{line:75,column:20}},loc:{start:{line:75,column:30},end:{line:79,column:9}},line:75},"9":{name:"(anonymous_9)",decl:{start:{line:78,column:22},end:{line:78,column:23}},loc:{start:{line:78,column:33},end:{line:78,column:62}},line:78},"10":{name:"(anonymous_10)",decl:{start:{line:80,column:44},end:{line:80,column:45}},loc:{start:{line:80,column:56},end:{line:86,column:9}},line:80},"11":{name:"(anonymous_11)",decl:{start:{line:82,column:24},end:{line:82,column:25}},loc:{start:{line:82,column:33},end:{line:85,column:17}},line:82},"12":{name:"(anonymous_12)",decl:{start:{line:91,column:14},end:{line:91,column:15}},loc:{start:{line:91,column:20},end:{line:91,column:39}},line:91}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"92b526ea82918286d8facfb726fc2423462bf176"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2g6xcc6z91=function(){return actualCoverage;};}return actualCoverage;}cov_2g6xcc6z91();cov_2g6xcc6z91().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL,TEST_SECRET:SECRET,TEST_API_URL:API_URL}}=(cov_2g6xcc6z91().s[1]++,process);const updateUser=(cov_2g6xcc6z91().s[2]++,require('./update-user'));const{random}=(cov_2g6xcc6z91().s[3]++,Math);const{expect}=(cov_2g6xcc6z91().s[4]++,require('chai'));cov_2g6xcc6z91().s[5]++;require('takemytask-commons/polyfills/json');const{utils:{jwtPromised}}=(cov_2g6xcc6z91().s[6]++,require('takemytask-commons'));const{mongoose,models:{Worker},mongoose:{ObjectId}}=(cov_2g6xcc6z91().s[7]++,require('takemytask-data'));const bcrypt=(cov_2g6xcc6z91().s[8]++,require('bcryptjs'));cov_2g6xcc6z91().s[9]++;require('takemytask-commons/ponyfills/xhr');const context=(cov_2g6xcc6z91().s[10]++,require('./context'));cov_2g6xcc6z91().s[11]++;context.API_URL=API_URL;cov_2g6xcc6z91().s[12]++;context.storage={};cov_2g6xcc6z91().s[13]++;describe('logic - update worker',()=>{cov_2g6xcc6z91().f[0]++;cov_2g6xcc6z91().s[14]++;before(()=>{cov_2g6xcc6z91().f[1]++;cov_2g6xcc6z91().s[15]++;return mongoose.connect(MONGODB_URL);});let name,surname,email,password,adress,body,changedName,changedAdress;cov_2g6xcc6z91().s[16]++;beforeEach(async()=>{cov_2g6xcc6z91().f[2]++;cov_2g6xcc6z91().s[17]++;await Worker.deleteMany();cov_2g6xcc6z91().s[18]++;name=`name-${random()}`;cov_2g6xcc6z91().s[19]++;surname=`surname-${random()}`;cov_2g6xcc6z91().s[20]++;email=`e-${random()}@mail.com`;cov_2g6xcc6z91().s[21]++;password=`password-${random()}`;cov_2g6xcc6z91().s[22]++;adress=`street-${random()}`;cov_2g6xcc6z91().s[23]++;bankAcount=`bankAcount-${random()}`;cov_2g6xcc6z91().s[24]++;description=`description-${random()}`;cov_2g6xcc6z91().s[25]++;presentation=`presentation-${random()}`;cov_2g6xcc6z91().s[26]++;pricingHour=parseInt(random()*100);cov_2g6xcc6z91().s[27]++;jobCategories=[`jobCategories-${random()}`];cov_2g6xcc6z91().s[28]++;workingDistance=parseInt(random()*100);cov_2g6xcc6z91().s[29]++;changedName=`changedname-${random()}`;cov_2g6xcc6z91().s[30]++;changedAdress=`changedstreet-${random()}`;});cov_2g6xcc6z91().s[31]++;describe('user exists',()=>{cov_2g6xcc6z91().f[3]++;cov_2g6xcc6z91().s[32]++;beforeEach(async()=>{cov_2g6xcc6z91().f[4]++;const user=(cov_2g6xcc6z91().s[33]++,await Worker.create({name,surname,email,password,adress,bankAcount,description,presentation,pricingHour,jobCategories,workingDistance}));cov_2g6xcc6z91().s[34]++;return jwtPromised.sign({sub:user.id},SECRET).then(token=>{cov_2g6xcc6z91().f[5]++;cov_2g6xcc6z91().s[35]++;return context.storage.token=token;});});cov_2g6xcc6z91().s[36]++;it('should succeed on retriving user',async()=>{cov_2g6xcc6z91().f[6]++;cov_2g6xcc6z91().s[37]++;await updateUser(changedName,surname,email,changedAdress,bankAcount,description,presentation,pricingHour,jobCategories,workingDistance);const results=(cov_2g6xcc6z91().s[38]++,await Worker.find());const[user]=(cov_2g6xcc6z91().s[39]++,results);cov_2g6xcc6z91().s[40]++;expect(user).to.exist;cov_2g6xcc6z91().s[41]++;expect(user.name).to.equal(changedName);cov_2g6xcc6z91().s[42]++;expect(user.surname).to.equal(surname);cov_2g6xcc6z91().s[43]++;expect(user.email).to.equal(email);cov_2g6xcc6z91().s[44]++;expect(user.adress).to.equal(changedAdress);cov_2g6xcc6z91().s[45]++;expect(user.bankAcount).to.equal(bankAcount);cov_2g6xcc6z91().s[46]++;expect(user.description).to.equal(description);cov_2g6xcc6z91().s[47]++;expect(user.pricingHour).to.equal(pricingHour);cov_2g6xcc6z91().s[48]++;expect(user.jobCategories.toString()).to.equal(jobCategories.toString());cov_2g6xcc6z91().s[49]++;expect(user.workingDistance).to.equal(workingDistance);});});cov_2g6xcc6z91().s[50]++;describe('user dont exist',()=>{cov_2g6xcc6z91().f[7]++;let fakeId;cov_2g6xcc6z91().s[51]++;beforeEach(async()=>{cov_2g6xcc6z91().f[8]++;cov_2g6xcc6z91().s[52]++;fakeId='5ee0ed9a603a0a4f3c650fe1';cov_2g6xcc6z91().s[53]++;return jwtPromised.sign({sub:fakeId},SECRET).then(token=>{cov_2g6xcc6z91().f[9]++;cov_2g6xcc6z91().s[54]++;return context.storage.token=token;});});cov_2g6xcc6z91().s[55]++;it('should fail on retriving user',async()=>{cov_2g6xcc6z91().f[10]++;cov_2g6xcc6z91().s[56]++;result=await updateUser(changedName,surname,email,changedAdress,bankAcount,description,presentation,pricingHour,jobCategories,workingDistance).catch(error=>{cov_2g6xcc6z91().f[11]++;cov_2g6xcc6z91().s[57]++;expect(error).to.exist;cov_2g6xcc6z91().s[58]++;expect(error.message).to.be.equal(`user or worker with id ${fakeId} dont exists`);});});});//TODO finish test with unhappy path
cov_2g6xcc6z91().s[59]++;afterEach(()=>{cov_2g6xcc6z91().f[12]++;cov_2g6xcc6z91().s[60]++;return Worker.deleteMany();});cov_2g6xcc6z91().s[61]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwZGF0ZS13b3JrZXIuc3BlYy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiZW52IiwiVEVTVF9NT05HT0RCX1VSTCIsIk1PTkdPREJfVVJMIiwiVEVTVF9TRUNSRVQiLCJTRUNSRVQiLCJURVNUX0FQSV9VUkwiLCJBUElfVVJMIiwicHJvY2VzcyIsInVwZGF0ZVVzZXIiLCJyYW5kb20iLCJNYXRoIiwiZXhwZWN0IiwidXRpbHMiLCJqd3RQcm9taXNlZCIsIm1vbmdvb3NlIiwibW9kZWxzIiwiV29ya2VyIiwiT2JqZWN0SWQiLCJiY3J5cHQiLCJjb250ZXh0Iiwic3RvcmFnZSIsImRlc2NyaWJlIiwiYmVmb3JlIiwiY29ubmVjdCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImFkcmVzcyIsImJvZHkiLCJjaGFuZ2VkTmFtZSIsImNoYW5nZWRBZHJlc3MiLCJiZWZvcmVFYWNoIiwiZGVsZXRlTWFueSIsImJhbmtBY291bnQiLCJkZXNjcmlwdGlvbiIsInByZXNlbnRhdGlvbiIsInByaWNpbmdIb3VyIiwicGFyc2VJbnQiLCJqb2JDYXRlZ29yaWVzIiwid29ya2luZ0Rpc3RhbmNlIiwidXNlciIsImNyZWF0ZSIsInNpZ24iLCJzdWIiLCJpZCIsInRoZW4iLCJ0b2tlbiIsIml0IiwicmVzdWx0cyIsImZpbmQiLCJ0byIsImV4aXN0IiwiZXF1YWwiLCJ0b1N0cmluZyIsImZha2VJZCIsInJlc3VsdCIsImNhdGNoIiwiZXJyb3IiLCJtZXNzYWdlIiwiYmUiLCJhZnRlckVhY2giLCJhZnRlciIsImRpc2Nvbm5lY3QiXSwibWFwcGluZ3MiOiIrZ05BZVk7bUhBZlpBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCLEdBRUEsS0FBTSxDQUFFQyxHQUFHLENBQUUsQ0FBRUMsZ0JBQWdCLENBQUVDLFdBQXBCLENBQWlDQyxXQUFXLENBQUVDLE1BQTlDLENBQXNEQyxZQUFZLENBQUVDLE9BQXBFLENBQVAsMkJBQTBGQyxP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QixLQUFoQixDQUF3QkEsS0FBeEIsQ0FBNkIsQ0FEM0MsQ0FBUCxDQUVILENBSlMsQ0FBVixDQUY4Qix5QkFPOUJDLEVBQUUsQ0FBQywrQkFBRCxDQUFrQyxTQUFZLG1EQUM1Q1EsTUFBTSxDQUFHLEtBQU1oRCxDQUFBQSxVQUFVLENBQUNzQixXQUFELENBQWNMLE9BQWQsQ0FBdUJDLEtBQXZCLENBQThCSyxhQUE5QixDQUE2Q0csVUFBN0MsQ0FBeURDLFdBQXpELENBQXNFQyxZQUF0RSxDQUFvRkMsV0FBcEYsQ0FBaUdFLGFBQWpHLENBQWdIQyxlQUFoSCxDQUFWLENBQ1ZpQixLQURVLENBQ0hDLEtBQUssRUFBSSxtREFDYi9DLE1BQU0sQ0FBQytDLEtBQUQsQ0FBTixDQUFjUCxFQUFkLENBQWlCQyxLQUFqQixDQURhLHlCQUViekMsTUFBTSxDQUFDK0MsS0FBSyxDQUFDQyxPQUFQLENBQU4sQ0FBc0JSLEVBQXRCLENBQXlCUyxFQUF6QixDQUE0QlAsS0FBNUIsQ0FBbUMsMEJBQXlCRSxNQUFPLGNBQW5FLEVBQ0gsQ0FKVSxDQUFmLENBS0gsQ0FOQyxDQUFGLENBT0gsQ0FkTyxDQUFSLENBZ0JBO0FBdEVvQyx5QkF3RXBDTSxTQUFTLENBQUMsSUFBTSx5REFBQTdDLENBQUFBLE1BQU0sQ0FBQ2lCLFVBQVAsR0FBbUIsQ0FBMUIsQ0FBVCxDQXhFb0MseUJBMEVwQzZCLEtBQUssQ0FBQ2hELFFBQVEsQ0FBQ2lELFVBQVYsQ0FBTCxDQUNILENBM0VPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKVxyXG5cclxuY29uc3QgeyBlbnY6IHsgVEVTVF9NT05HT0RCX1VSTDogTU9OR09EQl9VUkwsIFRFU1RfU0VDUkVUOiBTRUNSRVQsIFRFU1RfQVBJX1VSTDogQVBJX1VSTCAgfSB9ID0gcHJvY2Vzc1xyXG5cclxuY29uc3QgdXBkYXRlVXNlciA9IHJlcXVpcmUoJy4vdXBkYXRlLXVzZXInKVxyXG5jb25zdCB7IHJhbmRvbSB9ID0gTWF0aFxyXG5jb25zdCB7IGV4cGVjdCB9ID0gcmVxdWlyZSgnY2hhaScpXHJcbnJlcXVpcmUoJ3Rha2VteXRhc2stY29tbW9ucy9wb2x5ZmlsbHMvanNvbicpXHJcbmNvbnN0IHsgdXRpbHM6IHsgand0UHJvbWlzZWQgfSB9ID0gcmVxdWlyZSgndGFrZW15dGFzay1jb21tb25zJylcclxuY29uc3QgeyBtb25nb29zZSwgbW9kZWxzOiB7IFdvcmtlciB9LCBtb25nb29zZToge09iamVjdElkfSB9ID0gcmVxdWlyZSgndGFrZW15dGFzay1kYXRhJylcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKVxyXG5yZXF1aXJlKCd0YWtlbXl0YXNrLWNvbW1vbnMvcG9ueWZpbGxzL3hocicpXHJcbmNvbnN0IGNvbnRleHQgPSByZXF1aXJlKCcuL2NvbnRleHQnKVxyXG5cclxuY29udGV4dC5BUElfVVJMID0gQVBJX1VSTFxyXG5cclxuY29udGV4dC5zdG9yYWdlID0ge31cclxuXHJcbmRlc2NyaWJlKCdsb2dpYyAtIHVwZGF0ZSB3b3JrZXInLCAoKSA9PiB7XHJcbiAgICBiZWZvcmUoKCkgPT4gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSTCkpXHJcbiAgICBcclxuICAgIGxldCBuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGFkcmVzcywgYm9keSwgY2hhbmdlZE5hbWUsIGNoYW5nZWRBZHJlc3NcclxuXHJcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcclxuICAgICAgICBhd2FpdCBXb3JrZXIuZGVsZXRlTWFueSgpXHJcblxyXG4gICAgICAgIG5hbWUgPSBgbmFtZS0ke3JhbmRvbSgpfWBcclxuICAgICAgICBzdXJuYW1lID0gYHN1cm5hbWUtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgZW1haWwgPSBgZS0ke3JhbmRvbSgpfUBtYWlsLmNvbWBcclxuICAgICAgICBwYXNzd29yZCA9IGBwYXNzd29yZC0ke3JhbmRvbSgpfWBcclxuICAgICAgICBhZHJlc3MgPSBgc3RyZWV0LSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGJhbmtBY291bnQgPSBgYmFua0Fjb3VudC0ke3JhbmRvbSgpfWBcclxuICAgICAgICBkZXNjcmlwdGlvbiA9IGBkZXNjcmlwdGlvbi0ke3JhbmRvbSgpfWBcclxuICAgICAgICBwcmVzZW50YXRpb24gPSBgcHJlc2VudGF0aW9uLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIHByaWNpbmdIb3VyID0gcGFyc2VJbnQocmFuZG9tKCkqMTAwKVxyXG4gICAgICAgIGpvYkNhdGVnb3JpZXMgPSBbYGpvYkNhdGVnb3JpZXMtJHtyYW5kb20oKX1gXVxyXG4gICAgICAgIHdvcmtpbmdEaXN0YW5jZSA9IHBhcnNlSW50KHJhbmRvbSgpKjEwMClcclxuXHJcblxyXG4gICAgICAgIGNoYW5nZWROYW1lID0gYGNoYW5nZWRuYW1lLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGNoYW5nZWRBZHJlc3MgPSBgY2hhbmdlZHN0cmVldC0ke3JhbmRvbSgpfWBcclxuXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICBkZXNjcmliZSgndXNlciBleGlzdHMnLCAoKSA9PiB7XHJcbiAgICAgICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBXb3JrZXIuY3JlYXRlKHtuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGFkcmVzcywgYmFua0Fjb3VudCwgZGVzY3JpcHRpb24sIHByZXNlbnRhdGlvbiwgcHJpY2luZ0hvdXIsIGpvYkNhdGVnb3JpZXMsIHdvcmtpbmdEaXN0YW5jZX0pXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gand0UHJvbWlzZWQuc2lnbih7IHN1YjogdXNlci5pZCB9LCBTRUNSRVQpXHJcbiAgICAgICAgICAgICAgICAudGhlbigodG9rZW4pID0+IGNvbnRleHQuc3RvcmFnZS50b2tlbiA9IHRva2VuKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgc3VjY2VlZCBvbiByZXRyaXZpbmcgdXNlcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlVXNlcihjaGFuZ2VkTmFtZSwgc3VybmFtZSwgZW1haWwsIGNoYW5nZWRBZHJlc3MsIGJhbmtBY291bnQsIGRlc2NyaXB0aW9uLCBwcmVzZW50YXRpb24sIHByaWNpbmdIb3VyLCBqb2JDYXRlZ29yaWVzLCB3b3JraW5nRGlzdGFuY2UpXHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgV29ya2VyLmZpbmQoKVxyXG5cclxuICAgICAgICAgICAgY29uc3QgW3VzZXJdID0gcmVzdWx0c1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KHVzZXIpLnRvLmV4aXN0XHJcbiAgICAgICAgICAgIGV4cGVjdCh1c2VyLm5hbWUpLnRvLmVxdWFsKGNoYW5nZWROYW1lKVxyXG4gICAgICAgICAgICBleHBlY3QodXNlci5zdXJuYW1lKS50by5lcXVhbChzdXJuYW1lKVxyXG4gICAgICAgICAgICBleHBlY3QodXNlci5lbWFpbCkudG8uZXF1YWwoZW1haWwpXHJcbiAgICAgICAgICAgIGV4cGVjdCh1c2VyLmFkcmVzcykudG8uZXF1YWwoY2hhbmdlZEFkcmVzcylcclxuICAgICAgICAgICAgZXhwZWN0KHVzZXIuYmFua0Fjb3VudCkudG8uZXF1YWwoYmFua0Fjb3VudClcclxuICAgICAgICAgICAgZXhwZWN0KHVzZXIuZGVzY3JpcHRpb24pLnRvLmVxdWFsKGRlc2NyaXB0aW9uKVxyXG4gICAgICAgICAgICBleHBlY3QodXNlci5wcmljaW5nSG91cikudG8uZXF1YWwocHJpY2luZ0hvdXIpXHJcbiAgICAgICAgICAgIGV4cGVjdCh1c2VyLmpvYkNhdGVnb3JpZXMudG9TdHJpbmcoKSkudG8uZXF1YWwoam9iQ2F0ZWdvcmllcy50b1N0cmluZygpKVxyXG4gICAgICAgICAgICBleHBlY3QodXNlci53b3JraW5nRGlzdGFuY2UpLnRvLmVxdWFsKHdvcmtpbmdEaXN0YW5jZSlcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuICAgICAgXHJcbiAgICBkZXNjcmliZSgndXNlciBkb250IGV4aXN0JywgKCkgPT4ge1xyXG4gICAgICAgIGxldCBmYWtlSWRcclxuICAgICAgICBiZWZvcmVFYWNoKGFzeW5jKCkgPT4ge1xyXG4gICAgICAgICAgICBmYWtlSWQgPSAnNWVlMGVkOWE2MDNhMGE0ZjNjNjUwZmUxJ1xyXG4gICAgICAgICAgICByZXR1cm4gand0UHJvbWlzZWQuc2lnbih7IHN1YjogZmFrZUlkIH0sIFNFQ1JFVClcclxuICAgICAgICAgICAgICAgIC50aGVuKCh0b2tlbikgPT4gY29udGV4dC5zdG9yYWdlLnRva2VuID0gdG9rZW4pXHJcbiAgICAgICAgfSlcclxuICAgICAgICBpdCgnc2hvdWxkIGZhaWwgb24gcmV0cml2aW5nIHVzZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHVwZGF0ZVVzZXIoY2hhbmdlZE5hbWUsIHN1cm5hbWUsIGVtYWlsLCBjaGFuZ2VkQWRyZXNzLCBiYW5rQWNvdW50LCBkZXNjcmlwdGlvbiwgcHJlc2VudGF0aW9uLCBwcmljaW5nSG91ciwgam9iQ2F0ZWdvcmllcywgd29ya2luZ0Rpc3RhbmNlKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKCBlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5leGlzdFxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50by5iZS5lcXVhbChgdXNlciBvciB3b3JrZXIgd2l0aCBpZCAke2Zha2VJZH0gZG9udCBleGlzdHNgKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgLy9UT0RPIGZpbmlzaCB0ZXN0IHdpdGggdW5oYXBweSBwYXRoXHJcblxyXG4gICAgYWZ0ZXJFYWNoKCgpID0+IFdvcmtlci5kZWxldGVNYW55KCkpXHJcblxyXG4gICAgYWZ0ZXIobW9uZ29vc2UuZGlzY29ubmVjdClcclxufSkiXX0=