function cov_218kyks0q2(){var path="C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-client-logic\\retrive-user.spec.js";var hash="d4112c00414aa2ab8a714e579d651caa0692f307";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-client-logic\\retrive-user.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:96},end:{line:3,column:103}},"2":{start:{line:5,column:20},end:{line:5,column:45}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:19},end:{line:7,column:34}},"5":{start:{line:8,column:0},end:{line:8,column:44}},"6":{start:{line:9,column:35},end:{line:9,column:64}},"7":{start:{line:10,column:61},end:{line:10,column:87}},"8":{start:{line:11,column:15},end:{line:11,column:34}},"9":{start:{line:12,column:0},end:{line:12,column:43}},"10":{start:{line:13,column:16},end:{line:13,column:36}},"11":{start:{line:15,column:0},end:{line:15,column:25}},"12":{start:{line:17,column:0},end:{line:17,column:20}},"13":{start:{line:19,column:0},end:{line:74,column:2}},"14":{start:{line:20,column:4},end:{line:20,column:47}},"15":{start:{line:20,column:17},end:{line:20,column:46}},"16":{start:{line:24,column:4},end:{line:33,column:6}},"17":{start:{line:25,column:8},end:{line:25,column:31}},"18":{start:{line:27,column:8},end:{line:27,column:33}},"19":{start:{line:28,column:8},end:{line:28,column:39}},"20":{start:{line:29,column:8},end:{line:29,column:40}},"21":{start:{line:30,column:8},end:{line:30,column:41}},"22":{start:{line:31,column:8},end:{line:31,column:37}},"23":{start:{line:35,column:4},end:{line:51,column:6}},"24":{start:{line:36,column:8},end:{line:41,column:10}},"25":{start:{line:37,column:25},end:{line:37,column:84}},"26":{start:{line:39,column:12},end:{line:40,column:63}},"27":{start:{line:40,column:33},end:{line:40,column:62}},"28":{start:{line:43,column:8},end:{line:50,column:10}},"29":{start:{line:44,column:27},end:{line:44,column:46}},"30":{start:{line:45,column:12},end:{line:45,column:35}},"31":{start:{line:46,column:12},end:{line:46,column:49}},"32":{start:{line:47,column:12},end:{line:47,column:55}},"33":{start:{line:48,column:12},end:{line:48,column:51}},"34":{start:{line:49,column:12},end:{line:49,column:53}},"35":{start:{line:53,column:4},end:{line:67,column:6}},"36":{start:{line:55,column:8},end:{line:59,column:10}},"37":{start:{line:56,column:12},end:{line:56,column:47}},"38":{start:{line:57,column:12},end:{line:58,column:63}},"39":{start:{line:58,column:33},end:{line:58,column:62}},"40":{start:{line:60,column:8},end:{line:66,column:10}},"41":{start:{line:61,column:12},end:{line:65,column:18}},"42":{start:{line:63,column:20},end:{line:63,column:42}},"43":{start:{line:64,column:20},end:{line:64,column:92}},"44":{start:{line:71,column:4},end:{line:71,column:38}},"45":{start:{line:71,column:20},end:{line:71,column:37}},"46":{start:{line:73,column:4},end:{line:73,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:19,column:33},end:{line:19,column:34}},loc:{start:{line:19,column:39},end:{line:74,column:1}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:20,column:11},end:{line:20,column:12}},loc:{start:{line:20,column:17},end:{line:20,column:46}},line:20},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:15},end:{line:24,column:16}},loc:{start:{line:24,column:27},end:{line:33,column:5}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:35,column:28},end:{line:35,column:29}},loc:{start:{line:35,column:34},end:{line:51,column:5}},line:35},"4":{name:"(anonymous_4)",decl:{start:{line:36,column:19},end:{line:36,column:20}},loc:{start:{line:36,column:31},end:{line:41,column:9}},line:36},"5":{name:"(anonymous_5)",decl:{start:{line:40,column:22},end:{line:40,column:23}},loc:{start:{line:40,column:33},end:{line:40,column:62}},line:40},"6":{name:"(anonymous_6)",decl:{start:{line:43,column:47},end:{line:43,column:48}},loc:{start:{line:43,column:59},end:{line:50,column:9}},line:43},"7":{name:"(anonymous_7)",decl:{start:{line:53,column:28},end:{line:53,column:29}},loc:{start:{line:53,column:34},end:{line:67,column:5}},line:53},"8":{name:"(anonymous_8)",decl:{start:{line:55,column:19},end:{line:55,column:20}},loc:{start:{line:55,column:30},end:{line:59,column:9}},line:55},"9":{name:"(anonymous_9)",decl:{start:{line:58,column:22},end:{line:58,column:23}},loc:{start:{line:58,column:33},end:{line:58,column:62}},line:58},"10":{name:"(anonymous_10)",decl:{start:{line:60,column:44},end:{line:60,column:45}},loc:{start:{line:60,column:56},end:{line:66,column:9}},line:60},"11":{name:"(anonymous_11)",decl:{start:{line:62,column:24},end:{line:62,column:25}},loc:{start:{line:62,column:33},end:{line:65,column:17}},line:62},"12":{name:"(anonymous_12)",decl:{start:{line:71,column:14},end:{line:71,column:15}},loc:{start:{line:71,column:20},end:{line:71,column:37}},line:71}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d4112c00414aa2ab8a714e579d651caa0692f307"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_218kyks0q2=function(){return actualCoverage;};}return actualCoverage;}cov_218kyks0q2();cov_218kyks0q2().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL,TEST_SECRET:SECRET,TEST_API_URL:API_URL}}=(cov_218kyks0q2().s[1]++,process);const retriveUser=(cov_218kyks0q2().s[2]++,require('./retrive-user'));const{random}=(cov_218kyks0q2().s[3]++,Math);const{expect}=(cov_218kyks0q2().s[4]++,require('chai'));cov_218kyks0q2().s[5]++;require('takemytask-commons/polyfills/json');const{utils:{jwtPromised}}=(cov_218kyks0q2().s[6]++,require('takemytask-commons'));const{mongoose,models:{User},mongoose:{ObjectId}}=(cov_218kyks0q2().s[7]++,require('takemytask-data'));const bcrypt=(cov_218kyks0q2().s[8]++,require('bcryptjs'));cov_218kyks0q2().s[9]++;require('takemytask-commons/ponyfills/xhr');const context=(cov_218kyks0q2().s[10]++,require('./context'));cov_218kyks0q2().s[11]++;context.API_URL=API_URL;cov_218kyks0q2().s[12]++;context.storage={};cov_218kyks0q2().s[13]++;describe('logic - retrive user',()=>{cov_218kyks0q2().f[0]++;cov_218kyks0q2().s[14]++;before(()=>{cov_218kyks0q2().f[1]++;cov_218kyks0q2().s[15]++;return mongoose.connect(MONGODB_URL);});let name,surname,email,password,adress;cov_218kyks0q2().s[16]++;beforeEach(async()=>{cov_218kyks0q2().f[2]++;cov_218kyks0q2().s[17]++;await User.deleteMany();cov_218kyks0q2().s[18]++;name=`name-${random()}`;cov_218kyks0q2().s[19]++;surname=`surname-${random()}`;cov_218kyks0q2().s[20]++;email=`e-${random()}@mail.com`;cov_218kyks0q2().s[21]++;password=`password-${random()}`;cov_218kyks0q2().s[22]++;adress=`street-${random()}`;});cov_218kyks0q2().s[23]++;describe('user exists',()=>{cov_218kyks0q2().f[3]++;cov_218kyks0q2().s[24]++;beforeEach(async()=>{cov_218kyks0q2().f[4]++;const user=(cov_218kyks0q2().s[25]++,await User.create({name,surname,email,password,adress}));cov_218kyks0q2().s[26]++;return jwtPromised.sign({sub:user.id},SECRET).then(token=>{cov_218kyks0q2().f[5]++;cov_218kyks0q2().s[27]++;return context.storage.token=token;});});cov_218kyks0q2().s[28]++;it('should succeed on retriving user',async()=>{cov_218kyks0q2().f[6]++;const result=(cov_218kyks0q2().s[29]++,await retriveUser());cov_218kyks0q2().s[30]++;expect(result).to.exist;cov_218kyks0q2().s[31]++;expect(result.name).to.be.equal(name);cov_218kyks0q2().s[32]++;expect(result.surname).to.be.equal(surname);cov_218kyks0q2().s[33]++;expect(result.email).to.be.equal(email);cov_218kyks0q2().s[34]++;expect(result.adress).to.be.equal(adress);});});cov_218kyks0q2().s[35]++;describe('user exists',()=>{cov_218kyks0q2().f[7]++;let fakeId;cov_218kyks0q2().s[36]++;beforeEach(async()=>{cov_218kyks0q2().f[8]++;cov_218kyks0q2().s[37]++;fakeId='5ee0ed9a603a0a4f3c650fe1';cov_218kyks0q2().s[38]++;return jwtPromised.sign({sub:fakeId},SECRET).then(token=>{cov_218kyks0q2().f[9]++;cov_218kyks0q2().s[39]++;return context.storage.token=token;});});cov_218kyks0q2().s[40]++;it('should fail on retriving user',async()=>{cov_218kyks0q2().f[10]++;cov_218kyks0q2().s[41]++;result=await retriveUser().catch(error=>{cov_218kyks0q2().f[11]++;cov_218kyks0q2().s[42]++;expect(error).to.exist;cov_218kyks0q2().s[43]++;expect(error.message).to.be.equal(`user with id: ${fakeId} dont exists`);});});});//TODO finish test with unhappy path
cov_218kyks0q2().s[44]++;afterEach(()=>{cov_218kyks0q2().f[12]++;cov_218kyks0q2().s[45]++;return User.deleteMany();});cov_218kyks0q2().s[46]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldHJpdmUtdXNlci5zcGVjLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJlbnYiLCJURVNUX01PTkdPREJfVVJMIiwiTU9OR09EQl9VUkwiLCJURVNUX1NFQ1JFVCIsIlNFQ1JFVCIsIlRFU1RfQVBJX1VSTCIsIkFQSV9VUkwiLCJwcm9jZXNzIiwicmV0cml2ZVVzZXIiLCJyYW5kb20iLCJNYXRoIiwiZXhwZWN0IiwidXRpbHMiLCJqd3RQcm9taXNlZCIsIm1vbmdvb3NlIiwibW9kZWxzIiwiVXNlciIsIk9iamVjdElkIiwiYmNyeXB0IiwiY29udGV4dCIsInN0b3JhZ2UiLCJkZXNjcmliZSIsImJlZm9yZSIsImNvbm5lY3QiLCJuYW1lIiwic3VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJhZHJlc3MiLCJiZWZvcmVFYWNoIiwiZGVsZXRlTWFueSIsInVzZXIiLCJjcmVhdGUiLCJzaWduIiwic3ViIiwiaWQiLCJ0aGVuIiwidG9rZW4iLCJpdCIsInJlc3VsdCIsInRvIiwiZXhpc3QiLCJiZSIsImVxdWFsIiwiZmFrZUlkIiwiY2F0Y2giLCJlcnJvciIsIm1lc3NhZ2UiLCJhZnRlckVhY2giLCJhZnRlciIsImRpc2Nvbm5lY3QiXSwibWFwcGluZ3MiOiJrbExBZVk7bUhBZlpBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCLEdBRUEsS0FBTSxDQUFFQyxHQUFHLENBQUUsQ0FBRUMsZ0JBQWdCLENBQUVDLFdBQXBCLENBQWlDQyxXQUFXLENBQUVDLE1BQTlDLENBQXNEQyxZQUFZLENBQUVDLE9BQXBFLENBQVAsMkJBQTBGQyxPQUExRixDQUFOLENBRUEsS0FBTUMsQ0FBQUEsV0FBVywwQkFBR1YsT0FBTyxDQUFDLGdCQUFELENBQVYsQ0FBakIsQ0FDQSxLQUFNLENBQUVXLE1BQUYsMkJBQWFDLElBQWIsQ0FBTixDQUNBLEtBQU0sQ0FBRUMsTUFBRiwyQkFBYWIsT0FBTyxDQUFDLE1BQUQsQ0FBcEIsQ0FBTixDLHdCQUNBQSxP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Qyx5QkFzRG5DbUIsS0FBSyxDQUFDbkMsUUFBUSxDQUFDb0MsVUFBVixDQUFMLENBQ0gsQ0F2RE8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpXHJcblxyXG5jb25zdCB7IGVudjogeyBURVNUX01PTkdPREJfVVJMOiBNT05HT0RCX1VSTCwgVEVTVF9TRUNSRVQ6IFNFQ1JFVCwgVEVTVF9BUElfVVJMOiBBUElfVVJMICB9IH0gPSBwcm9jZXNzXHJcblxyXG5jb25zdCByZXRyaXZlVXNlciA9IHJlcXVpcmUoJy4vcmV0cml2ZS11c2VyJylcclxuY29uc3QgeyByYW5kb20gfSA9IE1hdGhcclxuY29uc3QgeyBleHBlY3QgfSA9IHJlcXVpcmUoJ2NoYWknKVxyXG5yZXF1aXJlKCd0YWtlbXl0YXNrLWNvbW1vbnMvcG9seWZpbGxzL2pzb24nKVxyXG5jb25zdCB7IHV0aWxzOiB7IGp3dFByb21pc2VkIH0gfSA9IHJlcXVpcmUoJ3Rha2VteXRhc2stY29tbW9ucycpXHJcbmNvbnN0IHsgbW9uZ29vc2UsIG1vZGVsczogeyBVc2VyIH0sIG1vbmdvb3NlOiB7T2JqZWN0SWR9IH0gPSByZXF1aXJlKCd0YWtlbXl0YXNrLWRhdGEnKVxyXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpXHJcbnJlcXVpcmUoJ3Rha2VteXRhc2stY29tbW9ucy9wb255ZmlsbHMveGhyJylcclxuY29uc3QgY29udGV4dCA9IHJlcXVpcmUoJy4vY29udGV4dCcpXHJcblxyXG5jb250ZXh0LkFQSV9VUkwgPSBBUElfVVJMXHJcblxyXG5jb250ZXh0LnN0b3JhZ2UgPSB7fVxyXG5cclxuZGVzY3JpYmUoJ2xvZ2ljIC0gcmV0cml2ZSB1c2VyJywgKCkgPT4ge1xyXG4gICAgYmVmb3JlKCgpID0+IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkwpKVxyXG4gICAgXHJcbiAgICBsZXQgbmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3NcclxuXHJcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcclxuICAgICAgICBhd2FpdCBVc2VyLmRlbGV0ZU1hbnkoKVxyXG5cclxuICAgICAgICBuYW1lID0gYG5hbWUtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgc3VybmFtZSA9IGBzdXJuYW1lLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGVtYWlsID0gYGUtJHtyYW5kb20oKX1AbWFpbC5jb21gXHJcbiAgICAgICAgcGFzc3dvcmQgPSBgcGFzc3dvcmQtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgYWRyZXNzID0gYHN0cmVldC0ke3JhbmRvbSgpfWBcclxuXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICBkZXNjcmliZSgndXNlciBleGlzdHMnLCAoKSA9PiB7XHJcbiAgICAgICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7bmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3N9KVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGp3dFByb21pc2VkLnNpZ24oeyBzdWI6IHVzZXIuaWQgfSwgU0VDUkVUKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHRva2VuKSA9PiBjb250ZXh0LnN0b3JhZ2UudG9rZW4gPSB0b2tlbilcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHN1Y2NlZWQgb24gcmV0cml2aW5nIHVzZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldHJpdmVVc2VyKClcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG8uZXhpc3RcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5uYW1lKS50by5iZS5lcXVhbChuYW1lKVxyXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnN1cm5hbWUpLnRvLmJlLmVxdWFsKHN1cm5hbWUpXHJcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuZW1haWwpLnRvLmJlLmVxdWFsKGVtYWlsKVxyXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LmFkcmVzcykudG8uYmUuZXF1YWwoYWRyZXNzKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgICBcclxuICAgIGRlc2NyaWJlKCd1c2VyIGV4aXN0cycsICgpID0+IHtcclxuICAgICAgICBsZXQgZmFrZUlkXHJcbiAgICAgICAgYmVmb3JlRWFjaChhc3luYygpID0+IHtcclxuICAgICAgICAgICAgZmFrZUlkID0gJzVlZTBlZDlhNjAzYTBhNGYzYzY1MGZlMSdcclxuICAgICAgICAgICAgcmV0dXJuIGp3dFByb21pc2VkLnNpZ24oeyBzdWI6IGZha2VJZCB9LCBTRUNSRVQpXHJcbiAgICAgICAgICAgICAgICAudGhlbigodG9rZW4pID0+IGNvbnRleHQuc3RvcmFnZS50b2tlbiA9IHRva2VuKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBmYWlsIG9uIHJldHJpdmluZyB1c2VyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBhd2FpdCByZXRyaXZlVXNlcigpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goIGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmV4aXN0XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmJlLmVxdWFsKGB1c2VyIHdpdGggaWQ6ICR7ZmFrZUlkfSBkb250IGV4aXN0c2ApXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICAvL1RPRE8gZmluaXNoIHRlc3Qgd2l0aCB1bmhhcHB5IHBhdGhcclxuXHJcbiAgICBhZnRlckVhY2goKCkgPT4gVXNlci5kZWxldGVNYW55KCkpXHJcblxyXG4gICAgYWZ0ZXIobW9uZ29vc2UuZGlzY29ubmVjdClcclxufSkiXX0=