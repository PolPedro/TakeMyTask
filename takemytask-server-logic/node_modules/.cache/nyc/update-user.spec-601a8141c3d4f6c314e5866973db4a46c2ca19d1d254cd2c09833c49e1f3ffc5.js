function cov_1lzl6km2qu(){var path="C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-server-logic\\update-user.spec.js";var hash="2fb54f196a688f5a8783d664b5aae897b3ecd66a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-server-logic\\update-user.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:96},end:{line:3,column:103}},"2":{start:{line:5,column:19},end:{line:5,column:43}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:19},end:{line:7,column:34}},"5":{start:{line:8,column:0},end:{line:8,column:44}},"6":{start:{line:9,column:35},end:{line:9,column:64}},"7":{start:{line:10,column:69},end:{line:10,column:95}},"8":{start:{line:11,column:15},end:{line:11,column:34}},"9":{start:{line:12,column:0},end:{line:12,column:43}},"10":{start:{line:14,column:0},end:{line:94,column:2}},"11":{start:{line:15,column:4},end:{line:15,column:47}},"12":{start:{line:15,column:17},end:{line:15,column:46}},"13":{start:{line:19,column:4},end:{line:52,column:6}},"14":{start:{line:20,column:8},end:{line:20,column:31}},"15":{start:{line:22,column:8},end:{line:22,column:33}},"16":{start:{line:23,column:8},end:{line:23,column:39}},"17":{start:{line:24,column:8},end:{line:24,column:40}},"18":{start:{line:25,column:8},end:{line:25,column:41}},"19":{start:{line:26,column:8},end:{line:26,column:37}},"20":{start:{line:28,column:8},end:{line:28,column:34}},"21":{start:{line:29,column:8},end:{line:29,column:40}},"22":{start:{line:30,column:8},end:{line:30,column:41}},"23":{start:{line:31,column:8},end:{line:31,column:42}},"24":{start:{line:32,column:8},end:{line:32,column:38}},"25":{start:{line:33,column:8},end:{line:33,column:45}},"26":{start:{line:34,column:8},end:{line:34,column:47}},"27":{start:{line:35,column:8},end:{line:35,column:33}},"28":{start:{line:36,column:8},end:{line:36,column:53}},"29":{start:{line:37,column:8},end:{line:37,column:37}},"30":{start:{line:40,column:23},end:{line:40,column:199}},"31":{start:{line:42,column:8},end:{line:42,column:28}},"32":{start:{line:44,column:12},end:{line:44,column:51}},"33":{start:{line:45,column:12},end:{line:45,column:55}},"34":{start:{line:47,column:8},end:{line:50,column:9}},"35":{start:{line:54,column:4},end:{line:73,column:6}},"36":{start:{line:55,column:8},end:{line:58,column:10}},"37":{start:{line:56,column:25},end:{line:56,column:84}},"38":{start:{line:57,column:12},end:{line:57,column:28}},"39":{start:{line:60,column:8},end:{line:72,column:10}},"40":{start:{line:61,column:12},end:{line:61,column:42}},"41":{start:{line:63,column:28},end:{line:63,column:45}},"42":{start:{line:65,column:27},end:{line:65,column:34}},"43":{start:{line:67,column:12},end:{line:67,column:33}},"44":{start:{line:68,column:12},end:{line:68,column:54}},"45":{start:{line:69,column:12},end:{line:69,column:53}},"46":{start:{line:70,column:12},end:{line:70,column:49}},"47":{start:{line:71,column:12},end:{line:71,column:58}},"48":{start:{line:75,column:4},end:{line:87,column:6}},"49":{start:{line:77,column:8},end:{line:79,column:10}},"50":{start:{line:78,column:12},end:{line:78,column:47}},"51":{start:{line:80,column:8},end:{line:86,column:10}},"52":{start:{line:81,column:12},end:{line:85,column:18}},"53":{start:{line:83,column:20},end:{line:83,column:42}},"54":{start:{line:84,column:20},end:{line:84,column:101}},"55":{start:{line:91,column:4},end:{line:91,column:38}},"56":{start:{line:91,column:20},end:{line:91,column:37}},"57":{start:{line:93,column:4},end:{line:93,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:14,column:32},end:{line:14,column:33}},loc:{start:{line:14,column:38},end:{line:94,column:1}},line:14},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:17},end:{line:15,column:46}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:19,column:15},end:{line:19,column:16}},loc:{start:{line:19,column:27},end:{line:52,column:5}},line:19},"3":{name:"(anonymous_3)",decl:{start:{line:54,column:28},end:{line:54,column:29}},loc:{start:{line:54,column:34},end:{line:73,column:5}},line:54},"4":{name:"(anonymous_4)",decl:{start:{line:55,column:19},end:{line:55,column:20}},loc:{start:{line:55,column:31},end:{line:58,column:9}},line:55},"5":{name:"(anonymous_5)",decl:{start:{line:60,column:47},end:{line:60,column:48}},loc:{start:{line:60,column:59},end:{line:72,column:9}},line:60},"6":{name:"(anonymous_6)",decl:{start:{line:75,column:32},end:{line:75,column:33}},loc:{start:{line:75,column:38},end:{line:87,column:5}},line:75},"7":{name:"(anonymous_7)",decl:{start:{line:77,column:19},end:{line:77,column:20}},loc:{start:{line:77,column:30},end:{line:79,column:9}},line:77},"8":{name:"(anonymous_8)",decl:{start:{line:80,column:44},end:{line:80,column:45}},loc:{start:{line:80,column:56},end:{line:86,column:9}},line:80},"9":{name:"(anonymous_9)",decl:{start:{line:82,column:24},end:{line:82,column:25}},loc:{start:{line:82,column:33},end:{line:85,column:17}},line:82},"10":{name:"(anonymous_10)",decl:{start:{line:91,column:14},end:{line:91,column:15}},loc:{start:{line:91,column:20},end:{line:91,column:37}},line:91}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2fb54f196a688f5a8783d664b5aae897b3ecd66a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1lzl6km2qu=function(){return actualCoverage;};}return actualCoverage;}cov_1lzl6km2qu();cov_1lzl6km2qu().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL,TEST_SECRET:SECRET,TEST_API_URL:API_URL}}=(cov_1lzl6km2qu().s[1]++,process);const updateUser=(cov_1lzl6km2qu().s[2]++,require('./update-user'));const{random}=(cov_1lzl6km2qu().s[3]++,Math);const{expect}=(cov_1lzl6km2qu().s[4]++,require('chai'));cov_1lzl6km2qu().s[5]++;require('takemytask-commons/polyfills/json');const{utils:{jwtPromised}}=(cov_1lzl6km2qu().s[6]++,require('takemytask-commons'));const{mongoose,models:{User,Worker},mongoose:{ObjectId}}=(cov_1lzl6km2qu().s[7]++,require('takemytask-data'));const bcrypt=(cov_1lzl6km2qu().s[8]++,require('bcryptjs'));cov_1lzl6km2qu().s[9]++;require('takemytask-commons/ponyfills/xhr');cov_1lzl6km2qu().s[10]++;describe('logic - update user',()=>{cov_1lzl6km2qu().f[0]++;cov_1lzl6km2qu().s[11]++;before(()=>{cov_1lzl6km2qu().f[1]++;cov_1lzl6km2qu().s[12]++;return mongoose.connect(MONGODB_URL);});let name,surname,email,password,adress,body,changedName,changedAdress,userId,nameW,surnameW,emailW,passwordW,adressW,bankAcount,description,pricingHour,jobCategories,workingDistance,workerId;cov_1lzl6km2qu().s[13]++;beforeEach(async()=>{cov_1lzl6km2qu().f[2]++;cov_1lzl6km2qu().s[14]++;await User.deleteMany();cov_1lzl6km2qu().s[15]++;name=`name-${random()}`;cov_1lzl6km2qu().s[16]++;surname=`surname-${random()}`;cov_1lzl6km2qu().s[17]++;email=`e-${random()}@mail.com`;cov_1lzl6km2qu().s[18]++;password=`password-${random()}`;cov_1lzl6km2qu().s[19]++;adress=`street-${random()}`;cov_1lzl6km2qu().s[20]++;nameW=`name-${random()}`;cov_1lzl6km2qu().s[21]++;surnameW=`surname-${random()}`;cov_1lzl6km2qu().s[22]++;emailW=`e-${random()}@mail.com`;cov_1lzl6km2qu().s[23]++;passwordW=`password-${random()}`;cov_1lzl6km2qu().s[24]++;adressW=`street-${random()}`;cov_1lzl6km2qu().s[25]++;bankAcount=`bankAcount-${random()}`;cov_1lzl6km2qu().s[26]++;description=`description-${random()}`;cov_1lzl6km2qu().s[27]++;pricingHour=random()*10;cov_1lzl6km2qu().s[28]++;jobCategories=[`jobCategories-${random()}`];cov_1lzl6km2qu().s[29]++;workingDistance=random()*10;const worker=(cov_1lzl6km2qu().s[30]++,await Worker.create({name:nameW,surname:surnameW,email:emailW,password:passwordW,adress:adressW,bankAcount,description,pricingHour,jobCategories,workingDistance}));cov_1lzl6km2qu().s[31]++;workerId=worker.id;cov_1lzl6km2qu().s[32]++;changedName=`changedname-${random()}`;cov_1lzl6km2qu().s[33]++;changedAdress=`changedstreet-${random()}`;cov_1lzl6km2qu().s[34]++;body={name:changedName,adress:changedAdress};});cov_1lzl6km2qu().s[35]++;describe('user exists',()=>{cov_1lzl6km2qu().f[3]++;cov_1lzl6km2qu().s[36]++;beforeEach(async()=>{cov_1lzl6km2qu().f[4]++;const user=(cov_1lzl6km2qu().s[37]++,await User.create({name,surname,email,password,adress}));cov_1lzl6km2qu().s[38]++;userId=user.id;});cov_1lzl6km2qu().s[39]++;it('should succeed on retriving user',async()=>{cov_1lzl6km2qu().f[5]++;cov_1lzl6km2qu().s[40]++;await updateUser(userId,body);const results=(cov_1lzl6km2qu().s[41]++,await User.find());const[user]=(cov_1lzl6km2qu().s[42]++,results);cov_1lzl6km2qu().s[43]++;expect(user).to.exist;cov_1lzl6km2qu().s[44]++;expect(user.name).to.be.equal(changedName);cov_1lzl6km2qu().s[45]++;expect(user.surname).to.be.equal(surname);cov_1lzl6km2qu().s[46]++;expect(user.email).to.be.equal(email);cov_1lzl6km2qu().s[47]++;expect(user.adress).to.be.equal(changedAdress);});});cov_1lzl6km2qu().s[48]++;describe('user dont exist',()=>{cov_1lzl6km2qu().f[6]++;let fakeId;cov_1lzl6km2qu().s[49]++;beforeEach(async()=>{cov_1lzl6km2qu().f[7]++;cov_1lzl6km2qu().s[50]++;fakeId='5ee0ed9a603a0a4f3c650fe1';});cov_1lzl6km2qu().s[51]++;it('should fail on retriving user',async()=>{cov_1lzl6km2qu().f[8]++;cov_1lzl6km2qu().s[52]++;result=await updateUser(fakeId,body).catch(error=>{cov_1lzl6km2qu().f[9]++;cov_1lzl6km2qu().s[53]++;expect(error).to.exist;cov_1lzl6km2qu().s[54]++;expect(error.message).to.be.equal(`user or worker with id ${fakeId} dont exists`);});});});//TODO finish test with unhappy path
cov_1lzl6km2qu().s[55]++;afterEach(()=>{cov_1lzl6km2qu().f[10]++;cov_1lzl6km2qu().s[56]++;return User.deleteMany();});cov_1lzl6km2qu().s[57]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwZGF0ZS11c2VyLnNwZWMuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsImNvbmZpZyIsImVudiIsIlRFU1RfTU9OR09EQl9VUkwiLCJNT05HT0RCX1VSTCIsIlRFU1RfU0VDUkVUIiwiU0VDUkVUIiwiVEVTVF9BUElfVVJMIiwiQVBJX1VSTCIsInByb2Nlc3MiLCJ1cGRhdGVVc2VyIiwicmFuZG9tIiwiTWF0aCIsImV4cGVjdCIsInV0aWxzIiwiand0UHJvbWlzZWQiLCJtb25nb29zZSIsIm1vZGVscyIsIlVzZXIiLCJXb3JrZXIiLCJPYmplY3RJZCIsImJjcnlwdCIsImRlc2NyaWJlIiwiYmVmb3JlIiwiY29ubmVjdCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImFkcmVzcyIsImJvZHkiLCJjaGFuZ2VkTmFtZSIsImNoYW5nZWRBZHJlc3MiLCJ1c2VySWQiLCJuYW1lVyIsInN1cm5hbWVXIiwiZW1haWxXIiwicGFzc3dvcmRXIiwiYWRyZXNzVyIsImJhbmtBY291bnQiLCJkZXNjcmlwdGlvbiIsInByaWNpbmdIb3VyIiwiam9iQ2F0ZWdvcmllcyIsIndvcmtpbmdEaXN0YW5jZSIsIndvcmtlcklkIiwiYmVmb3JlRWFjaCIsImRlbGV0ZU1hbnkiLCJ3b3JrZXIiLCJjcmVhdGUiLCJpZCIsInVzZXIiLCJpdCIsInJlc3VsdHMiLCJmaW5kIiwidG8iLCJleGlzdCIsImJlIiwiZXF1YWwiLCJmYWtlSWQiLCJyZXN1bHQiLCJjYXRjaCIsImVycm9yIiwibWVzc2FnZSIsImFmdGVyRWFjaCIsImFmdGVyIiwiZGlzY29ubmVjdCJdLCJtYXBwaW5ncyI6IjY4TEFlWTttSEFmWkEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsR0FFQSxLQUFNLENBQUVDLEdBQUcsQ0FBRSxDQUFFQyxnQkFBZ0IsQ0FBRUMsV0FBcEIsQ0FBaUNDLFdBQVcsQ0FBRUMsTUFBOUMsQ0FBc0RDLFlBQVksQ0FBRUMsT0FBcEUsQ0FBUCwyQkFBMEZDLE9B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SCxDQVpPLENBQVIsQ0FjQTtBQTNFa0MseUJBNkVsQ0ssU0FBUyxDQUFDLElBQU0seURBQUE3QyxDQUFBQSxJQUFJLENBQUM0QixVQUFMLEdBQWlCLENBQXhCLENBQVQsQ0E3RWtDLHlCQStFbENrQixLQUFLLENBQUNoRCxRQUFRLENBQUNpRCxVQUFWLENBQUwsQ0FDSCxDQWhGTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcclxuXHJcbmNvbnN0IHsgZW52OiB7IFRFU1RfTU9OR09EQl9VUkw6IE1PTkdPREJfVVJMLCBURVNUX1NFQ1JFVDogU0VDUkVULCBURVNUX0FQSV9VUkw6IEFQSV9VUkwgIH0gfSA9IHByb2Nlc3NcclxuXHJcbmNvbnN0IHVwZGF0ZVVzZXIgPSByZXF1aXJlKCcuL3VwZGF0ZS11c2VyJylcclxuY29uc3QgeyByYW5kb20gfSA9IE1hdGhcclxuY29uc3QgeyBleHBlY3QgfSA9IHJlcXVpcmUoJ2NoYWknKVxyXG5yZXF1aXJlKCd0YWtlbXl0YXNrLWNvbW1vbnMvcG9seWZpbGxzL2pzb24nKVxyXG5jb25zdCB7IHV0aWxzOiB7IGp3dFByb21pc2VkIH0gfSA9IHJlcXVpcmUoJ3Rha2VteXRhc2stY29tbW9ucycpXHJcbmNvbnN0IHsgbW9uZ29vc2UsIG1vZGVsczogeyBVc2VyLCBXb3JrZXIgfSwgbW9uZ29vc2U6IHtPYmplY3RJZH0gfSA9IHJlcXVpcmUoJ3Rha2VteXRhc2stZGF0YScpXHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJylcclxucmVxdWlyZSgndGFrZW15dGFzay1jb21tb25zL3BvbnlmaWxscy94aHInKVxyXG5cclxuZGVzY3JpYmUoJ2xvZ2ljIC0gdXBkYXRlIHVzZXInLCAoKSA9PiB7XHJcbiAgICBiZWZvcmUoKCkgPT4gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSTCkpXHJcbiAgICBcclxuICAgIGxldCBuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGFkcmVzcywgYm9keSwgY2hhbmdlZE5hbWUsIGNoYW5nZWRBZHJlc3MsIHVzZXJJZCwgbmFtZVcsIHN1cm5hbWVXLCBlbWFpbFcsIHBhc3N3b3JkVywgYWRyZXNzVywgYmFua0Fjb3VudCwgZGVzY3JpcHRpb24sIHByaWNpbmdIb3VyLCBqb2JDYXRlZ29yaWVzLCB3b3JraW5nRGlzdGFuY2UsIHdvcmtlcklkXHJcblxyXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgYXdhaXQgVXNlci5kZWxldGVNYW55KClcclxuXHJcbiAgICAgICAgbmFtZSA9IGBuYW1lLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIHN1cm5hbWUgPSBgc3VybmFtZS0ke3JhbmRvbSgpfWBcclxuICAgICAgICBlbWFpbCA9IGBlLSR7cmFuZG9tKCl9QG1haWwuY29tYFxyXG4gICAgICAgIHBhc3N3b3JkID0gYHBhc3N3b3JkLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGFkcmVzcyA9IGBzdHJlZXQtJHtyYW5kb20oKX1gXHJcblxyXG4gICAgICAgIG5hbWVXID0gYG5hbWUtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgc3VybmFtZVcgPSBgc3VybmFtZS0ke3JhbmRvbSgpfWBcclxuICAgICAgICBlbWFpbFcgPSBgZS0ke3JhbmRvbSgpfUBtYWlsLmNvbWBcclxuICAgICAgICBwYXNzd29yZFcgPSBgcGFzc3dvcmQtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgYWRyZXNzVyA9IGBzdHJlZXQtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgYmFua0Fjb3VudCA9IGBiYW5rQWNvdW50LSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGRlc2NyaXB0aW9uID0gYGRlc2NyaXB0aW9uLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIHByaWNpbmdIb3VyID0gcmFuZG9tKCkqMTBcclxuICAgICAgICBqb2JDYXRlZ29yaWVzID0gW2Bqb2JDYXRlZ29yaWVzLSR7cmFuZG9tKCl9YF1cclxuICAgICAgICB3b3JraW5nRGlzdGFuY2UgPSByYW5kb20oKSoxMFxyXG5cclxuXHJcbiAgICAgICAgY29uc3Qgd29ya2VyID0gYXdhaXQgV29ya2VyLmNyZWF0ZSh7bmFtZTogbmFtZVcsIHN1cm5hbWU6IHN1cm5hbWVXLCBlbWFpbDogZW1haWxXLCBwYXNzd29yZDogcGFzc3dvcmRXLCBhZHJlc3M6IGFkcmVzc1csIGJhbmtBY291bnQsIGRlc2NyaXB0aW9uLCBwcmljaW5nSG91ciwgam9iQ2F0ZWdvcmllcywgd29ya2luZ0Rpc3RhbmNlfSlcclxuXHJcbiAgICAgICAgd29ya2VySWQgPSB3b3JrZXIuaWQgXHJcblxyXG4gICAgICAgICAgICBjaGFuZ2VkTmFtZSA9IGBjaGFuZ2VkbmFtZS0ke3JhbmRvbSgpfWBcclxuICAgICAgICAgICAgY2hhbmdlZEFkcmVzcyA9IGBjaGFuZ2Vkc3RyZWV0LSR7cmFuZG9tKCl9YFxyXG5cclxuICAgICAgICBib2R5PXtcclxuICAgICAgICAgICAgbmFtZTogY2hhbmdlZE5hbWUsXHJcbiAgICAgICAgICAgIGFkcmVzczogY2hhbmdlZEFkcmVzcyBcclxuICAgICAgICB9XHJcblxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgZGVzY3JpYmUoJ3VzZXIgZXhpc3RzJywgKCkgPT4ge1xyXG4gICAgICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5jcmVhdGUoe25hbWUsIHN1cm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgYWRyZXNzfSlcclxuICAgICAgICAgICAgdXNlcklkID0gdXNlci5pZFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgc3VjY2VlZCBvbiByZXRyaXZpbmcgdXNlcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlVXNlcih1c2VySWQsIGJvZHkpXHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgVXNlci5maW5kKClcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IFt1c2VyXSA9IHJlc3VsdHNcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh1c2VyKS50by5leGlzdFxyXG4gICAgICAgICAgICBleHBlY3QodXNlci5uYW1lKS50by5iZS5lcXVhbChjaGFuZ2VkTmFtZSlcclxuICAgICAgICAgICAgZXhwZWN0KHVzZXIuc3VybmFtZSkudG8uYmUuZXF1YWwoc3VybmFtZSlcclxuICAgICAgICAgICAgZXhwZWN0KHVzZXIuZW1haWwpLnRvLmJlLmVxdWFsKGVtYWlsKVxyXG4gICAgICAgICAgICBleHBlY3QodXNlci5hZHJlc3MpLnRvLmJlLmVxdWFsKGNoYW5nZWRBZHJlc3MpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAgIFxyXG4gICAgZGVzY3JpYmUoJ3VzZXIgZG9udCBleGlzdCcsICgpID0+IHtcclxuICAgICAgICBsZXQgZmFrZUlkXHJcbiAgICAgICAgYmVmb3JlRWFjaChhc3luYygpID0+IHtcclxuICAgICAgICAgICAgZmFrZUlkID0gJzVlZTBlZDlhNjAzYTBhNGYzYzY1MGZlMSdcclxuICAgICAgICB9KVxyXG4gICAgICAgIGl0KCdzaG91bGQgZmFpbCBvbiByZXRyaXZpbmcgdXNlcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdXBkYXRlVXNlcihmYWtlSWQsIGJvZHkpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goIGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmV4aXN0XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmJlLmVxdWFsKGB1c2VyIG9yIHdvcmtlciB3aXRoIGlkICR7ZmFrZUlkfSBkb250IGV4aXN0c2ApXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICAvL1RPRE8gZmluaXNoIHRlc3Qgd2l0aCB1bmhhcHB5IHBhdGhcclxuXHJcbiAgICBhZnRlckVhY2goKCkgPT4gVXNlci5kZWxldGVNYW55KCkpXHJcblxyXG4gICAgYWZ0ZXIobW9uZ29vc2UuZGlzY29ubmVjdClcclxufSkiXX0=