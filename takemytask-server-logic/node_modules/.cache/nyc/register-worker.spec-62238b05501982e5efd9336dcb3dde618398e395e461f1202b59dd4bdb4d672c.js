function cov_7olmqi0yi(){var path="C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-server-logic\\register-worker.spec.js";var hash="02aa53ab58ed6d0d481ea94aa7ce72c77631e931";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-server-logic\\register-worker.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:51},end:{line:3,column:58}},"2":{start:{line:5,column:23},end:{line:5,column:51}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:19},end:{line:7,column:34}},"5":{start:{line:8,column:0},end:{line:8,column:44}},"6":{start:{line:9,column:41},end:{line:9,column:67}},"7":{start:{line:10,column:15},end:{line:10,column:34}},"8":{start:{line:12,column:0},end:{line:92,column:2}},"9":{start:{line:13,column:4},end:{line:13,column:47}},"10":{start:{line:13,column:17},end:{line:13,column:46}},"11":{start:{line:17,column:4},end:{line:31,column:6}},"12":{start:{line:18,column:8},end:{line:18,column:33}},"13":{start:{line:20,column:8},end:{line:20,column:33}},"14":{start:{line:21,column:8},end:{line:21,column:39}},"15":{start:{line:22,column:8},end:{line:22,column:40}},"16":{start:{line:23,column:8},end:{line:23,column:41}},"17":{start:{line:24,column:8},end:{line:24,column:37}},"18":{start:{line:25,column:8},end:{line:25,column:45}},"19":{start:{line:26,column:8},end:{line:26,column:49}},"20":{start:{line:27,column:8},end:{line:27,column:47}},"21":{start:{line:28,column:8},end:{line:28,column:44}},"22":{start:{line:29,column:8},end:{line:29,column:55}},"23":{start:{line:30,column:8},end:{line:30,column:48}},"24":{start:{line:33,column:4},end:{line:57,column:6}},"25":{start:{line:34,column:23},end:{line:34,column:167}},"26":{start:{line:36,column:8},end:{line:36,column:38}},"27":{start:{line:38,column:22},end:{line:38,column:41}},"28":{start:{line:40,column:8},end:{line:40,column:40}},"29":{start:{line:42,column:23},end:{line:42,column:28}},"30":{start:{line:44,column:8},end:{line:44,column:40}},"31":{start:{line:45,column:8},end:{line:45,column:46}},"32":{start:{line:46,column:8},end:{line:46,column:42}},"33":{start:{line:47,column:8},end:{line:47,column:44}},"34":{start:{line:48,column:8},end:{line:48,column:52}},"35":{start:{line:49,column:8},end:{line:49,column:54}},"36":{start:{line:50,column:8},end:{line:50,column:54}},"37":{start:{line:51,column:8},end:{line:51,column:80}},"38":{start:{line:52,column:8},end:{line:52,column:62}},"39":{start:{line:54,column:22},end:{line:54,column:67}},"40":{start:{line:56,column:8},end:{line:56,column:32}},"41":{start:{line:59,column:4},end:{line:68,column:6}},"42":{start:{line:60,column:8},end:{line:67,column:9}},"43":{start:{line:62,column:27},end:{line:62,column:92}},"44":{start:{line:63,column:12},end:{line:63,column:35}},"45":{start:{line:65,column:12},end:{line:65,column:34}},"46":{start:{line:66,column:12},end:{line:66,column:71}},"47":{start:{line:72,column:4},end:{line:87,column:6}},"48":{start:{line:73,column:8},end:{line:73,column:167}},"49":{start:{line:73,column:25},end:{line:73,column:166}},"50":{start:{line:75,column:8},end:{line:86,column:10}},"51":{start:{line:76,column:12},end:{line:85,column:13}},"52":{start:{line:77,column:16},end:{line:77,column:160}},"53":{start:{line:79,column:16},end:{line:79,column:62}},"54":{start:{line:81,column:16},end:{line:81,column:38}},"55":{start:{line:83,column:16},end:{line:83,column:56}},"56":{start:{line:84,column:16},end:{line:84,column:92}},"57":{start:{line:89,column:4},end:{line:89,column:40}},"58":{start:{line:89,column:20},end:{line:89,column:39}},"59":{start:{line:91,column:4},end:{line:91,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:12,column:36},end:{line:12,column:37}},loc:{start:{line:12,column:42},end:{line:92,column:1}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:11},end:{line:13,column:12}},loc:{start:{line:13,column:17},end:{line:13,column:46}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:15},end:{line:17,column:16}},loc:{start:{line:17,column:27},end:{line:31,column:5}},line:17},"3":{name:"(anonymous_3)",decl:{start:{line:33,column:39},end:{line:33,column:40}},loc:{start:{line:33,column:51},end:{line:57,column:5}},line:33},"4":{name:"(anonymous_4)",decl:{start:{line:59,column:42},end:{line:59,column:43}},loc:{start:{line:59,column:54},end:{line:68,column:5}},line:59},"5":{name:"(anonymous_5)",decl:{start:{line:72,column:41},end:{line:72,column:42}},loc:{start:{line:72,column:47},end:{line:87,column:5}},line:72},"6":{name:"(anonymous_6)",decl:{start:{line:73,column:19},end:{line:73,column:20}},loc:{start:{line:73,column:25},end:{line:73,column:166}},line:73},"7":{name:"(anonymous_7)",decl:{start:{line:75,column:65},end:{line:75,column:66}},loc:{start:{line:75,column:77},end:{line:86,column:9}},line:75},"8":{name:"(anonymous_8)",decl:{start:{line:89,column:14},end:{line:89,column:15}},loc:{start:{line:89,column:20},end:{line:89,column:39}},line:89}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"02aa53ab58ed6d0d481ea94aa7ce72c77631e931"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_7olmqi0yi=function(){return actualCoverage;};}return actualCoverage;}cov_7olmqi0yi();cov_7olmqi0yi().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL}}=(cov_7olmqi0yi().s[1]++,process);const registerWorker=(cov_7olmqi0yi().s[2]++,require('./register-worker'));const{random}=(cov_7olmqi0yi().s[3]++,Math);const{expect}=(cov_7olmqi0yi().s[4]++,require('chai'));cov_7olmqi0yi().s[5]++;require('takemytask-commons/polyfills/json');const{mongoose,models:{Worker}}=(cov_7olmqi0yi().s[6]++,require('takemytask-data'));const bcrypt=(cov_7olmqi0yi().s[7]++,require('bcryptjs'));cov_7olmqi0yi().s[8]++;describe('logic - register worker',()=>{cov_7olmqi0yi().f[0]++;cov_7olmqi0yi().s[9]++;before(()=>{cov_7olmqi0yi().f[1]++;cov_7olmqi0yi().s[10]++;return mongoose.connect(MONGODB_URL);});let name,surname,email,password,adress,bankAcount,description,pricingHour,jobCategories,workingDistance;cov_7olmqi0yi().s[11]++;beforeEach(async()=>{cov_7olmqi0yi().f[2]++;cov_7olmqi0yi().s[12]++;await Worker.deleteMany();cov_7olmqi0yi().s[13]++;name=`name-${random()}`;cov_7olmqi0yi().s[14]++;surname=`surname-${random()}`;cov_7olmqi0yi().s[15]++;email=`e-${random()}@mail.com`;cov_7olmqi0yi().s[16]++;password=`password-${random()}`;cov_7olmqi0yi().s[17]++;adress=`street-${random()}`;cov_7olmqi0yi().s[18]++;bankAcount=`bankAcount-${random()}`;cov_7olmqi0yi().s[19]++;presentation=`presentation-${random()}`;cov_7olmqi0yi().s[20]++;description=`description-${random()}`;cov_7olmqi0yi().s[21]++;pricingHour=parseInt(random()*100);cov_7olmqi0yi().s[22]++;jobCategories=[`"jobCategories-${random()}"`];cov_7olmqi0yi().s[23]++;workingDistance=parseInt(random()*100);});cov_7olmqi0yi().s[24]++;it('should succeed on valid data',async()=>{cov_7olmqi0yi().f[3]++;const result=(cov_7olmqi0yi().s[25]++,await registerWorker(name,surname,email,password,adress,bankAcount,description,presentation,pricingHour,jobCategories,workingDistance));cov_7olmqi0yi().s[26]++;expect(result).to.be.undefined;const users=(cov_7olmqi0yi().s[27]++,await Worker.find());cov_7olmqi0yi().s[28]++;expect(users.length).to.equal(1);const[user]=(cov_7olmqi0yi().s[29]++,users);cov_7olmqi0yi().s[30]++;expect(user.name).to.equal(name);cov_7olmqi0yi().s[31]++;expect(user.surname).to.equal(surname);cov_7olmqi0yi().s[32]++;expect(user.email).to.equal(email);cov_7olmqi0yi().s[33]++;expect(user.adress).to.equal(adress);cov_7olmqi0yi().s[34]++;expect(user.bankAcount).to.equal(bankAcount);cov_7olmqi0yi().s[35]++;expect(user.description).to.equal(description);cov_7olmqi0yi().s[36]++;expect(user.pricingHour).to.equal(pricingHour);cov_7olmqi0yi().s[37]++;expect(user.jobCategories.toString()).to.equal(jobCategories.toString());cov_7olmqi0yi().s[38]++;expect(user.workingDistance).to.equal(workingDistance);const match=(cov_7olmqi0yi().s[39]++,await bcrypt.compare(password,user.password));cov_7olmqi0yi().s[40]++;expect(match).to.be.true;});cov_7olmqi0yi().s[41]++;it('should fail on invalid argument',async()=>{cov_7olmqi0yi().f[4]++;cov_7olmqi0yi().s[42]++;try{const result=(cov_7olmqi0yi().s[43]++,await registerWorker(undefined,surname,email,password,adress));cov_7olmqi0yi().s[44]++;expect(result).to.exist;}catch(error){cov_7olmqi0yi().s[45]++;expect(error).to.exist;cov_7olmqi0yi().s[46]++;expect(error.message).to.equal('undefined is not a string');}});cov_7olmqi0yi().s[47]++;describe('when user already exists',()=>{cov_7olmqi0yi().f[5]++;cov_7olmqi0yi().s[48]++;beforeEach(()=>{cov_7olmqi0yi().f[6]++;cov_7olmqi0yi().s[49]++;return Worker.create({name,surname,email,password,adress,bankAcount,description,presentation,pricingHour,jobCategories,workingDistance});});cov_7olmqi0yi().s[50]++;it('should fail on trying to register an existing user',async()=>{cov_7olmqi0yi().f[7]++;cov_7olmqi0yi().s[51]++;try{cov_7olmqi0yi().s[52]++;await registerWorker(name,surname,email,password,adress,bankAcount,description,presentation,pricingHour,jobCategories,workingDistance);cov_7olmqi0yi().s[53]++;throw new Error('should not reach this point');}catch(error){cov_7olmqi0yi().s[54]++;expect(error).to.exist;cov_7olmqi0yi().s[55]++;expect(error).to.be.an.instanceof(Error);cov_7olmqi0yi().s[56]++;expect(error.message).to.equal(`worker with e-mail ${email} already exists`);}});});cov_7olmqi0yi().s[57]++;afterEach(()=>{cov_7olmqi0yi().f[8]++;cov_7olmqi0yi().s[58]++;return Worker.deleteMany();});cov_7olmqi0yi().s[59]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyLXdvcmtlci5zcGVjLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJlbnYiLCJURVNUX01PTkdPREJfVVJMIiwiTU9OR09EQl9VUkwiLCJwcm9jZXNzIiwicmVnaXN0ZXJXb3JrZXIiLCJyYW5kb20iLCJNYXRoIiwiZXhwZWN0IiwibW9uZ29vc2UiLCJtb2RlbHMiLCJXb3JrZXIiLCJiY3J5cHQiLCJkZXNjcmliZSIsImJlZm9yZSIsImNvbm5lY3QiLCJuYW1lIiwic3VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJhZHJlc3MiLCJiYW5rQWNvdW50IiwiZGVzY3JpcHRpb24iLCJwcmljaW5nSG91ciIsImpvYkNhdGVnb3JpZXMiLCJ3b3JraW5nRGlzdGFuY2UiLCJiZWZvcmVFYWNoIiwiZGVsZXRlTWFueSIsInByZXNlbnRhdGlvbiIsInBhcnNlSW50IiwiaXQiLCJyZXN1bHQiLCJ0byIsImJlIiwidW5kZWZpbmVkIiwidXNlcnMiLCJmaW5kIiwibGVuZ3RoIiwiZXF1YWwiLCJ1c2VyIiwidG9TdHJpbmciLCJtYXRjaCIsImNvbXBhcmUiLCJ0cnVlIiwiZXhpc3QiLCJlcnJvciIsIm1lc3NhZ2UiLCJjcmVhdGUiLCJFcnJvciIsImFuIiwiaW5zdGFuY2VvZiIsImFmdGVyRWFjaCIsImFmdGVyIiwiZGlzY29ubmVjdCJdLCJtYXBwaW5ncyI6IjJ4TEFlWTtnSEFmWkEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsR0FFQSxLQUFNLENBQUVDLEdBQUcsQ0FBRSxDQUFFQyxnQkFBZ0IsQ0FBRUMsV0FBcEIsQ0FBUCwwQkFBNkNDLE9BQTdDLENBQU4sQ0FFQSxLQUFNQyxDQUFBQSxjQUFjLHlCQUFHTixPQUFPLENBQUMsbUJBQUQsQ0FBVixDQUFwQixDQUNBLEtBQU0sQ0FBRU8sTUFBRiwwQkFBYUMsSUFBYixDQUFOLENBQ0EsS0FBTSxDQUFFQyxNQUFGLDBCQUFhVCxPQUFPLENBQUMsTUFBRCxDQUFwQixDQUFOLEMs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LENBQU4sQ0FBY2IsRUFBZCxDQUFpQlksS0FBakIsQ0FEWSx3QkFHWnBDLE1BQU0sQ0FBQ3FDLEtBQUQsQ0FBTixDQUFjYixFQUFkLENBQWlCQyxFQUFqQixDQUFvQmdCLEVBQXBCLENBQXVCQyxVQUF2QixDQUFrQ0YsS0FBbEMsRUFIWSx3QkFJWnhDLE1BQU0sQ0FBQ3FDLEtBQUssQ0FBQ0MsT0FBUCxDQUFOLENBQXNCZCxFQUF0QixDQUF5Qk0sS0FBekIsQ0FBZ0Msc0JBQXFCcEIsS0FBTSxpQkFBM0QsRUFDSCxDQUNKLENBWEMsQ0FBRixDQVlILENBZk8sQ0FBUixDQTVEc0Msd0JBNkV0Q2lDLFNBQVMsQ0FBQyxJQUFNLHNEQUFBeEMsQ0FBQUEsTUFBTSxDQUFDZ0IsVUFBUCxHQUFtQixDQUExQixDQUFULENBN0VzQyx3QkErRXRDeUIsS0FBSyxDQUFDM0MsUUFBUSxDQUFDNEMsVUFBVixDQUFMLENBQ0gsQ0FoRk8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpXHJcblxyXG5jb25zdCB7IGVudjogeyBURVNUX01PTkdPREJfVVJMOiBNT05HT0RCX1VSTCB9IH0gPSBwcm9jZXNzXHJcblxyXG5jb25zdCByZWdpc3RlcldvcmtlciA9IHJlcXVpcmUoJy4vcmVnaXN0ZXItd29ya2VyJylcclxuY29uc3QgeyByYW5kb20gfSA9IE1hdGhcclxuY29uc3QgeyBleHBlY3QgfSA9IHJlcXVpcmUoJ2NoYWknKVxyXG5yZXF1aXJlKCd0YWtlbXl0YXNrLWNvbW1vbnMvcG9seWZpbGxzL2pzb24nKVxyXG5jb25zdCB7IG1vbmdvb3NlLCBtb2RlbHM6IHsgV29ya2VyIH0gfSA9IHJlcXVpcmUoJ3Rha2VteXRhc2stZGF0YScpXHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJylcclxuXHJcbmRlc2NyaWJlKCdsb2dpYyAtIHJlZ2lzdGVyIHdvcmtlcicsICgpID0+IHtcclxuICAgIGJlZm9yZSgoKSA9PiBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJMKSlcclxuXHJcbiAgICBsZXQgbmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3MsIGJhbmtBY291bnQsIGRlc2NyaXB0aW9uLCBwcmljaW5nSG91ciwgam9iQ2F0ZWdvcmllcywgd29ya2luZ0Rpc3RhbmNlXHJcblxyXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgYXdhaXQgV29ya2VyLmRlbGV0ZU1hbnkoKVxyXG5cclxuICAgICAgICBuYW1lID0gYG5hbWUtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgc3VybmFtZSA9IGBzdXJuYW1lLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGVtYWlsID0gYGUtJHtyYW5kb20oKX1AbWFpbC5jb21gXHJcbiAgICAgICAgcGFzc3dvcmQgPSBgcGFzc3dvcmQtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgYWRyZXNzID0gYHN0cmVldC0ke3JhbmRvbSgpfWBcclxuICAgICAgICBiYW5rQWNvdW50ID0gYGJhbmtBY291bnQtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgcHJlc2VudGF0aW9uID0gYHByZXNlbnRhdGlvbi0ke3JhbmRvbSgpfWBcclxuICAgICAgICBkZXNjcmlwdGlvbiA9IGBkZXNjcmlwdGlvbi0ke3JhbmRvbSgpfWBcclxuICAgICAgICBwcmljaW5nSG91ciA9IHBhcnNlSW50KHJhbmRvbSgpKjEwMClcclxuICAgICAgICBqb2JDYXRlZ29yaWVzID0gW2BcImpvYkNhdGVnb3JpZXMtJHtyYW5kb20oKX1cImBdXHJcbiAgICAgICAgd29ya2luZ0Rpc3RhbmNlID0gcGFyc2VJbnQocmFuZG9tKCkqMTAwKVxyXG4gICAgfSlcclxuXHJcbiAgICBpdCgnc2hvdWxkIHN1Y2NlZWQgb24gdmFsaWQgZGF0YScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWdpc3RlcldvcmtlcihuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGFkcmVzcywgYmFua0Fjb3VudCwgZGVzY3JpcHRpb24sIHByZXNlbnRhdGlvbiwgcHJpY2luZ0hvdXIsIGpvYkNhdGVnb3JpZXMsIHdvcmtpbmdEaXN0YW5jZSlcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG8uYmUudW5kZWZpbmVkXHJcblxyXG4gICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgV29ya2VyLmZpbmQoKVxyXG5cclxuICAgICAgICBleHBlY3QodXNlcnMubGVuZ3RoKS50by5lcXVhbCgxKVxyXG5cclxuICAgICAgICBjb25zdCBbdXNlcl0gPSB1c2Vyc1xyXG5cclxuICAgICAgICBleHBlY3QodXNlci5uYW1lKS50by5lcXVhbChuYW1lKVxyXG4gICAgICAgIGV4cGVjdCh1c2VyLnN1cm5hbWUpLnRvLmVxdWFsKHN1cm5hbWUpXHJcbiAgICAgICAgZXhwZWN0KHVzZXIuZW1haWwpLnRvLmVxdWFsKGVtYWlsKVxyXG4gICAgICAgIGV4cGVjdCh1c2VyLmFkcmVzcykudG8uZXF1YWwoYWRyZXNzKVxyXG4gICAgICAgIGV4cGVjdCh1c2VyLmJhbmtBY291bnQpLnRvLmVxdWFsKGJhbmtBY291bnQpXHJcbiAgICAgICAgZXhwZWN0KHVzZXIuZGVzY3JpcHRpb24pLnRvLmVxdWFsKGRlc2NyaXB0aW9uKVxyXG4gICAgICAgIGV4cGVjdCh1c2VyLnByaWNpbmdIb3VyKS50by5lcXVhbChwcmljaW5nSG91cilcclxuICAgICAgICBleHBlY3QodXNlci5qb2JDYXRlZ29yaWVzLnRvU3RyaW5nKCkpLnRvLmVxdWFsKGpvYkNhdGVnb3JpZXMudG9TdHJpbmcoKSlcclxuICAgICAgICBleHBlY3QodXNlci53b3JraW5nRGlzdGFuY2UpLnRvLmVxdWFsKHdvcmtpbmdEaXN0YW5jZSlcclxuXHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZClcclxuXHJcbiAgICAgICAgZXhwZWN0KG1hdGNoKS50by5iZS50cnVlXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdzaG91bGQgZmFpbCBvbiBpbnZhbGlkIGFyZ3VtZW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeXtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlZ2lzdGVyV29ya2VyKHVuZGVmaW5lZCwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3MpXHJcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRvLmV4aXN0XHJcbiAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5leGlzdFxyXG4gICAgICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG8uZXF1YWwoJ3VuZGVmaW5lZCBpcyBub3QgYSBzdHJpbmcnKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5cclxuXHJcbiAgICBkZXNjcmliZSgnd2hlbiB1c2VyIGFscmVhZHkgZXhpc3RzJywgKCkgPT4ge1xyXG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT4gV29ya2VyLmNyZWF0ZSh7IG5hbWUsIHN1cm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgYWRyZXNzLCBiYW5rQWNvdW50LCBkZXNjcmlwdGlvbiwgcHJlc2VudGF0aW9uLCBwcmljaW5nSG91ciwgam9iQ2F0ZWdvcmllcywgd29ya2luZ0Rpc3RhbmNlIH0pKVxyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGZhaWwgb24gdHJ5aW5nIHRvIHJlZ2lzdGVyIGFuIGV4aXN0aW5nIHVzZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCByZWdpc3RlcldvcmtlcihuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGFkcmVzcywgYmFua0Fjb3VudCwgZGVzY3JpcHRpb24sIHByZXNlbnRhdGlvbiwgcHJpY2luZ0hvdXIsIGpvYkNhdGVnb3JpZXMsIHdvcmtpbmdEaXN0YW5jZSlcclxuXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Nob3VsZCBub3QgcmVhY2ggdGhpcyBwb2ludCcpXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmV4aXN0XHJcblxyXG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5iZS5hbi5pbnN0YW5jZW9mKEVycm9yKVxyXG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmVxdWFsKGB3b3JrZXIgd2l0aCBlLW1haWwgJHtlbWFpbH0gYWxyZWFkeSBleGlzdHNgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgYWZ0ZXJFYWNoKCgpID0+IFdvcmtlci5kZWxldGVNYW55KCkpXHJcblxyXG4gICAgYWZ0ZXIobW9uZ29vc2UuZGlzY29ubmVjdClcclxufSkiXX0=