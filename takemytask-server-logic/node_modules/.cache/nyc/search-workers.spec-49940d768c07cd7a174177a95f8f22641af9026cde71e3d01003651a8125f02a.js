function cov_5u39jeimf(){var path="C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-server-logic\\search-workers.spec.js";var hash="4560402d709dde095e4ada95b77e26883ebfae3a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-server-logic\\search-workers.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:96},end:{line:3,column:103}},"2":{start:{line:5,column:21},end:{line:5,column:48}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:19},end:{line:7,column:34}},"5":{start:{line:8,column:0},end:{line:8,column:44}},"6":{start:{line:9,column:61},end:{line:9,column:87}},"7":{start:{line:10,column:15},end:{line:10,column:34}},"8":{start:{line:11,column:0},end:{line:11,column:43}},"9":{start:{line:13,column:0},end:{line:67,column:2}},"10":{start:{line:14,column:4},end:{line:14,column:47}},"11":{start:{line:14,column:17},end:{line:14,column:46}},"12":{start:{line:18,column:4},end:{line:35,column:6}},"13":{start:{line:19,column:8},end:{line:19,column:33}},"14":{start:{line:20,column:8},end:{line:20,column:39}},"15":{start:{line:21,column:8},end:{line:21,column:40}},"16":{start:{line:22,column:8},end:{line:22,column:41}},"17":{start:{line:23,column:8},end:{line:23,column:37}},"18":{start:{line:24,column:8},end:{line:24,column:45}},"19":{start:{line:25,column:8},end:{line:25,column:47}},"20":{start:{line:26,column:8},end:{line:26,column:33}},"21":{start:{line:27,column:8},end:{line:27,column:53}},"22":{start:{line:28,column:8},end:{line:28,column:37}},"23":{start:{line:30,column:22},end:{line:30,column:53}},"24":{start:{line:32,column:23},end:{line:32,column:193}},"25":{start:{line:34,column:8},end:{line:34,column:28}},"26":{start:{line:37,column:4},end:{line:44,column:6}},"27":{start:{line:38,column:23},end:{line:38,column:59}},"28":{start:{line:40,column:8},end:{line:40,column:31}},"29":{start:{line:42,column:8},end:{line:42,column:69}},"30":{start:{line:43,column:8},end:{line:43,column:45}},"31":{start:{line:46,column:4},end:{line:53,column:6}},"32":{start:{line:47,column:23},end:{line:47,column:71}},"33":{start:{line:49,column:8},end:{line:49,column:31}},"34":{start:{line:51,column:8},end:{line:51,column:69}},"35":{start:{line:52,column:8},end:{line:52,column:45}},"36":{start:{line:55,column:4},end:{line:62,column:6}},"37":{start:{line:56,column:8},end:{line:61,column:9}},"38":{start:{line:57,column:27},end:{line:57,column:61}},"39":{start:{line:59,column:12},end:{line:59,column:36}},"40":{start:{line:60,column:12},end:{line:60,column:64}},"41":{start:{line:64,column:4},end:{line:64,column:40}},"42":{start:{line:64,column:20},end:{line:64,column:39}},"43":{start:{line:66,column:4},end:{line:66,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:13,column:34},end:{line:13,column:35}},loc:{start:{line:13,column:40},end:{line:67,column:1}},line:13},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:11},end:{line:14,column:12}},loc:{start:{line:14,column:17},end:{line:14,column:46}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:15},end:{line:18,column:16}},loc:{start:{line:18,column:27},end:{line:35,column:5}},line:18},"3":{name:"(anonymous_3)",decl:{start:{line:37,column:43},end:{line:37,column:44}},loc:{start:{line:37,column:55},end:{line:44,column:5}},line:37},"4":{name:"(anonymous_4)",decl:{start:{line:46,column:47},end:{line:46,column:48}},loc:{start:{line:46,column:59},end:{line:53,column:5}},line:46},"5":{name:"(anonymous_5)",decl:{start:{line:55,column:37},end:{line:55,column:38}},loc:{start:{line:55,column:49},end:{line:62,column:5}},line:55},"6":{name:"(anonymous_6)",decl:{start:{line:64,column:14},end:{line:64,column:15}},loc:{start:{line:64,column:20},end:{line:64,column:39}},line:64}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4560402d709dde095e4ada95b77e26883ebfae3a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_5u39jeimf=function(){return actualCoverage;};}return actualCoverage;}cov_5u39jeimf();cov_5u39jeimf().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL,TEST_SECRET:SECRET,TEST_API_URL:API_URL}}=(cov_5u39jeimf().s[1]++,process);const searchWorker=(cov_5u39jeimf().s[2]++,require('./search-workers'));const{random}=(cov_5u39jeimf().s[3]++,Math);const{expect}=(cov_5u39jeimf().s[4]++,require('chai'));cov_5u39jeimf().s[5]++;require('takemytask-commons/polyfills/json');const{mongoose,models:{Worker},mongoose:{ObjectId}}=(cov_5u39jeimf().s[6]++,require('takemytask-data'));const bcrypt=(cov_5u39jeimf().s[7]++,require('bcryptjs'));cov_5u39jeimf().s[8]++;require('takemytask-commons/ponyfills/xhr');cov_5u39jeimf().s[9]++;describe('logic - search worker',()=>{cov_5u39jeimf().f[0]++;cov_5u39jeimf().s[10]++;before(()=>{cov_5u39jeimf().f[1]++;cov_5u39jeimf().s[11]++;return mongoose.connect(MONGODB_URL);});let name,surname,email,password,adress,bankAcount,description,pricingHour,jobCategories,workingDistance,workerId;cov_5u39jeimf().s[12]++;beforeEach(async()=>{cov_5u39jeimf().f[2]++;cov_5u39jeimf().s[13]++;name=`name-${random()}`;cov_5u39jeimf().s[14]++;surname=`surname-${random()}`;cov_5u39jeimf().s[15]++;email=`e-${random()}@mail.com`;cov_5u39jeimf().s[16]++;password=`password-${random()}`;cov_5u39jeimf().s[17]++;adress=`street-${random()}`;cov_5u39jeimf().s[18]++;bankAcount=`bankAcount-${random()}`;cov_5u39jeimf().s[19]++;description=`description-${random()}`;cov_5u39jeimf().s[20]++;pricingHour=random()*10;cov_5u39jeimf().s[21]++;jobCategories=[`jobCategories-${random()}`];cov_5u39jeimf().s[22]++;workingDistance=random()*10;const hashW=(cov_5u39jeimf().s[23]++,await bcrypt.hash(password,10));const worker=(cov_5u39jeimf().s[24]++,await Worker.create({name:name,surname:surname,email:emailW,password:hashW,adress,adressW,bankAcount,description,pricingHour,jobCategories,workingDistance}));cov_5u39jeimf().s[25]++;workerId=worker.id;});cov_5u39jeimf().s[26]++;it('should succeed on search by name',async()=>{cov_5u39jeimf().f[3]++;const result=(cov_5u39jeimf().s[27]++,await searchWorker(true,true,name));cov_5u39jeimf().s[28]++;expect(result).to.exist;cov_5u39jeimf().s[29]++;expect(result[0].id.toString()).to.equal(workerId.toString());cov_5u39jeimf().s[30]++;expect(result[0].name).to.equal(name);});cov_5u39jeimf().s[31]++;it('should succeed on search by category',async()=>{cov_5u39jeimf().f[4]++;const result=(cov_5u39jeimf().s[32]++,await searchWorker(true,true,jobCategories[0]));cov_5u39jeimf().s[33]++;expect(result).to.exist;cov_5u39jeimf().s[34]++;expect(result[0].id.toString()).to.equal(workerId.toString());cov_5u39jeimf().s[35]++;expect(result[0].name).to.equal(name);});cov_5u39jeimf().s[36]++;it('should fail on void string',async()=>{cov_5u39jeimf().f[5]++;cov_5u39jeimf().s[37]++;try{const result=(cov_5u39jeimf().s[38]++,await searchWorker(true,true,""));}catch({message}){cov_5u39jeimf().s[39]++;expect(message).to.exist;cov_5u39jeimf().s[40]++;expect(message).to.equal('string is empty or blank');}});cov_5u39jeimf().s[41]++;afterEach(()=>{cov_5u39jeimf().f[6]++;cov_5u39jeimf().s[42]++;return Worker.deleteMany();});cov_5u39jeimf().s[43]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC13b3JrZXJzLnNwZWMuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsImNvbmZpZyIsImVudiIsIlRFU1RfTU9OR09EQl9VUkwiLCJNT05HT0RCX1VSTCIsIlRFU1RfU0VDUkVUIiwiU0VDUkVUIiwiVEVTVF9BUElfVVJMIiwiQVBJX1VSTCIsInByb2Nlc3MiLCJzZWFyY2hXb3JrZXIiLCJyYW5kb20iLCJNYXRoIiwiZXhwZWN0IiwibW9uZ29vc2UiLCJtb2RlbHMiLCJXb3JrZXIiLCJPYmplY3RJZCIsImJjcnlwdCIsImRlc2NyaWJlIiwiYmVmb3JlIiwiY29ubmVjdCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImFkcmVzcyIsImJhbmtBY291bnQiLCJkZXNjcmlwdGlvbiIsInByaWNpbmdIb3VyIiwiam9iQ2F0ZWdvcmllcyIsIndvcmtpbmdEaXN0YW5jZSIsIndvcmtlcklkIiwiYmVmb3JlRWFjaCIsImhhc2hXIiwiaGFzaCIsIndvcmtlciIsImNyZWF0ZSIsImVtYWlsVyIsImFkcmVzc1ciLCJpZCIsIml0IiwicmVzdWx0IiwidG8iLCJleGlzdCIsInRvU3RyaW5nIiwiZXF1YWwiLCJtZXNzYWdlIiwiYWZ0ZXJFYWNoIiwiZGVsZXRlTWFueSIsImFmdGVyIiwiZGlzY29ubmVjdCJdLCJtYXBwaW5ncyI6IjIrSUFlWTtnSEFmWkEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsR0FFQSxLQUFNLENBQUVDLEdBQUcsQ0FBRSxDQUFFQyxnQkFBZ0IsQ0FBRUMsV0FBcEIsQ0FBaUNDLFdBQVcsQ0FBRUMsTUFBOUMsQ0FBc0RDLFlBQVksQ0FBRUMsT0FBcEUsQ0FBUCwwQkFBMEZDLE9BQTFGLENBQU4sQ0FFQSxLQUFNQyxDQUFBQSxZQUFZLHlCQUFHVixPQUFPLENBQUMsa0JBQUQsQ0FBVixDQUFsQixDQUNBLEtBQU0sQ0FBRVcsTUFBRiwwQkFBYUMsSUFBYixDQUFOLENBQ0EsS0FBTSxDQUFFQyxNQUFGLDBCQUFh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RSxTQUFTLENBQUMsSUFBTSxzREFBQWhDLENBQUFBLE1BQU0sQ0FBQ2lDLFVBQVAsR0FBbUIsQ0FBMUIsQ0FBVCxDQW5Eb0Msd0JBcURwQ0MsS0FBSyxDQUFDcEMsUUFBUSxDQUFDcUMsVUFBVixDQUFMLENBQ0gsQ0F0RE8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpXHJcblxyXG5jb25zdCB7IGVudjogeyBURVNUX01PTkdPREJfVVJMOiBNT05HT0RCX1VSTCwgVEVTVF9TRUNSRVQ6IFNFQ1JFVCwgVEVTVF9BUElfVVJMOiBBUElfVVJMICB9IH0gPSBwcm9jZXNzXHJcblxyXG5jb25zdCBzZWFyY2hXb3JrZXIgPSByZXF1aXJlKCcuL3NlYXJjaC13b3JrZXJzJylcclxuY29uc3QgeyByYW5kb20gfSA9IE1hdGhcclxuY29uc3QgeyBleHBlY3QgfSA9IHJlcXVpcmUoJ2NoYWknKVxyXG5yZXF1aXJlKCd0YWtlbXl0YXNrLWNvbW1vbnMvcG9seWZpbGxzL2pzb24nKVxyXG5jb25zdCB7IG1vbmdvb3NlLCBtb2RlbHM6IHtXb3JrZXJ9LCBtb25nb29zZToge09iamVjdElkfSB9ID0gcmVxdWlyZSgndGFrZW15dGFzay1kYXRhJylcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKVxyXG5yZXF1aXJlKCd0YWtlbXl0YXNrLWNvbW1vbnMvcG9ueWZpbGxzL3hocicpXHJcblxyXG5kZXNjcmliZSgnbG9naWMgLSBzZWFyY2ggd29ya2VyJywgKCkgPT4ge1xyXG4gICAgYmVmb3JlKCgpID0+IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkwpKVxyXG5cclxuICAgIGxldCBuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGFkcmVzcywgYmFua0Fjb3VudCwgZGVzY3JpcHRpb24sIHByaWNpbmdIb3VyLCBqb2JDYXRlZ29yaWVzLCB3b3JraW5nRGlzdGFuY2UsIHdvcmtlcklkXHJcblxyXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgbmFtZSA9IGBuYW1lLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIHN1cm5hbWUgPSBgc3VybmFtZS0ke3JhbmRvbSgpfWBcclxuICAgICAgICBlbWFpbCA9IGBlLSR7cmFuZG9tKCl9QG1haWwuY29tYFxyXG4gICAgICAgIHBhc3N3b3JkID0gYHBhc3N3b3JkLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGFkcmVzcyA9IGBzdHJlZXQtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgYmFua0Fjb3VudCA9IGBiYW5rQWNvdW50LSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGRlc2NyaXB0aW9uID0gYGRlc2NyaXB0aW9uLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIHByaWNpbmdIb3VyID0gcmFuZG9tKCkqMTBcclxuICAgICAgICBqb2JDYXRlZ29yaWVzID0gW2Bqb2JDYXRlZ29yaWVzLSR7cmFuZG9tKCl9YF1cclxuICAgICAgICB3b3JraW5nRGlzdGFuY2UgPSByYW5kb20oKSoxMFxyXG5cclxuICAgICAgICBjb25zdCBoYXNoVyA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMClcclxuXHJcbiAgICAgICAgY29uc3Qgd29ya2VyID0gYXdhaXQgV29ya2VyLmNyZWF0ZSh7bmFtZTogbmFtZSwgc3VybmFtZTogc3VybmFtZSwgZW1haWw6IGVtYWlsVywgcGFzc3dvcmQ6IGhhc2hXLCBhZHJlc3MsIGFkcmVzc1csIGJhbmtBY291bnQsIGRlc2NyaXB0aW9uLCBwcmljaW5nSG91ciwgam9iQ2F0ZWdvcmllcywgd29ya2luZ0Rpc3RhbmNlfSlcclxuXHJcbiAgICAgICAgd29ya2VySWQgPSB3b3JrZXIuaWQgXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdzaG91bGQgc3VjY2VlZCBvbiBzZWFyY2ggYnkgbmFtZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2hXb3JrZXIodHJ1ZSwgdHJ1ZSwgbmFtZSlcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG8uZXhpc3RcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdFswXS5pZC50b1N0cmluZygpKS50by5lcXVhbCh3b3JrZXJJZC50b1N0cmluZygpKVxyXG4gICAgICAgIGV4cGVjdChyZXN1bHRbMF0ubmFtZSkudG8uZXF1YWwobmFtZSlcclxuICAgIH0pXHJcblxyXG4gICAgaXQoJ3Nob3VsZCBzdWNjZWVkIG9uIHNlYXJjaCBieSBjYXRlZ29yeScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2hXb3JrZXIodHJ1ZSwgdHJ1ZSwgam9iQ2F0ZWdvcmllc1swXSlcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG8uZXhpc3RcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdFswXS5pZC50b1N0cmluZygpKS50by5lcXVhbCh3b3JrZXJJZC50b1N0cmluZygpKVxyXG4gICAgICAgIGV4cGVjdChyZXN1bHRbMF0ubmFtZSkudG8uZXF1YWwobmFtZSlcclxuICAgIH0pXHJcblxyXG4gICAgaXQoJ3Nob3VsZCBmYWlsIG9uIHZvaWQgc3RyaW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoV29ya2VyKHRydWUsIHRydWUsIFwiXCIpXHJcbiAgICAgICAgfWNhdGNoKHttZXNzYWdlfSl7XHJcbiAgICAgICAgICAgIGV4cGVjdChtZXNzYWdlKS50by5leGlzdFxyXG4gICAgICAgICAgICBleHBlY3QobWVzc2FnZSkudG8uZXF1YWwoJ3N0cmluZyBpcyBlbXB0eSBvciBibGFuaycpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBhZnRlckVhY2goKCkgPT4gV29ya2VyLmRlbGV0ZU1hbnkoKSlcclxuXHJcbiAgICBhZnRlcihtb25nb29zZS5kaXNjb25uZWN0KVxyXG59KSJdfQ==