function cov_7olmqi0yi(){var path="C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-server-logic\\register-worker.spec.js";var hash="184e555c613fa2327acc9b72f895f34953529c7e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-server-logic\\register-worker.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:51},end:{line:3,column:58}},"2":{start:{line:5,column:23},end:{line:5,column:51}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:19},end:{line:7,column:34}},"5":{start:{line:8,column:0},end:{line:8,column:44}},"6":{start:{line:9,column:41},end:{line:9,column:67}},"7":{start:{line:10,column:15},end:{line:10,column:34}},"8":{start:{line:12,column:0},end:{line:91,column:2}},"9":{start:{line:13,column:4},end:{line:13,column:47}},"10":{start:{line:13,column:17},end:{line:13,column:46}},"11":{start:{line:17,column:4},end:{line:30,column:6}},"12":{start:{line:18,column:8},end:{line:18,column:33}},"13":{start:{line:20,column:8},end:{line:20,column:33}},"14":{start:{line:21,column:8},end:{line:21,column:39}},"15":{start:{line:22,column:8},end:{line:22,column:40}},"16":{start:{line:23,column:8},end:{line:23,column:41}},"17":{start:{line:24,column:8},end:{line:24,column:37}},"18":{start:{line:25,column:8},end:{line:25,column:45}},"19":{start:{line:26,column:8},end:{line:26,column:47}},"20":{start:{line:27,column:8},end:{line:27,column:44}},"21":{start:{line:28,column:8},end:{line:28,column:51}},"22":{start:{line:29,column:8},end:{line:29,column:48}},"23":{start:{line:32,column:4},end:{line:56,column:6}},"24":{start:{line:33,column:23},end:{line:33,column:153}},"25":{start:{line:35,column:8},end:{line:35,column:38}},"26":{start:{line:37,column:22},end:{line:37,column:41}},"27":{start:{line:39,column:8},end:{line:39,column:40}},"28":{start:{line:41,column:23},end:{line:41,column:28}},"29":{start:{line:43,column:8},end:{line:43,column:40}},"30":{start:{line:44,column:8},end:{line:44,column:46}},"31":{start:{line:45,column:8},end:{line:45,column:42}},"32":{start:{line:46,column:8},end:{line:46,column:44}},"33":{start:{line:47,column:8},end:{line:47,column:52}},"34":{start:{line:48,column:8},end:{line:48,column:54}},"35":{start:{line:49,column:8},end:{line:49,column:54}},"36":{start:{line:50,column:8},end:{line:50,column:58}},"37":{start:{line:51,column:8},end:{line:51,column:62}},"38":{start:{line:53,column:22},end:{line:53,column:67}},"39":{start:{line:55,column:8},end:{line:55,column:32}},"40":{start:{line:58,column:4},end:{line:67,column:6}},"41":{start:{line:59,column:8},end:{line:66,column:9}},"42":{start:{line:61,column:27},end:{line:61,column:92}},"43":{start:{line:62,column:12},end:{line:62,column:35}},"44":{start:{line:64,column:12},end:{line:64,column:34}},"45":{start:{line:65,column:12},end:{line:65,column:71}},"46":{start:{line:71,column:4},end:{line:86,column:6}},"47":{start:{line:72,column:8},end:{line:72,column:153}},"48":{start:{line:72,column:25},end:{line:72,column:152}},"49":{start:{line:74,column:8},end:{line:85,column:10}},"50":{start:{line:75,column:12},end:{line:84,column:13}},"51":{start:{line:76,column:16},end:{line:76,column:146}},"52":{start:{line:78,column:16},end:{line:78,column:62}},"53":{start:{line:80,column:16},end:{line:80,column:38}},"54":{start:{line:82,column:16},end:{line:82,column:56}},"55":{start:{line:83,column:16},end:{line:83,column:90}},"56":{start:{line:88,column:4},end:{line:88,column:40}},"57":{start:{line:88,column:20},end:{line:88,column:39}},"58":{start:{line:90,column:4},end:{line:90,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:12,column:36},end:{line:12,column:37}},loc:{start:{line:12,column:42},end:{line:91,column:1}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:11},end:{line:13,column:12}},loc:{start:{line:13,column:17},end:{line:13,column:46}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:15},end:{line:17,column:16}},loc:{start:{line:17,column:27},end:{line:30,column:5}},line:17},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:39},end:{line:32,column:40}},loc:{start:{line:32,column:51},end:{line:56,column:5}},line:32},"4":{name:"(anonymous_4)",decl:{start:{line:58,column:42},end:{line:58,column:43}},loc:{start:{line:58,column:54},end:{line:67,column:5}},line:58},"5":{name:"(anonymous_5)",decl:{start:{line:71,column:41},end:{line:71,column:42}},loc:{start:{line:71,column:47},end:{line:86,column:5}},line:71},"6":{name:"(anonymous_6)",decl:{start:{line:72,column:19},end:{line:72,column:20}},loc:{start:{line:72,column:25},end:{line:72,column:152}},line:72},"7":{name:"(anonymous_7)",decl:{start:{line:74,column:65},end:{line:74,column:66}},loc:{start:{line:74,column:77},end:{line:85,column:9}},line:74},"8":{name:"(anonymous_8)",decl:{start:{line:88,column:14},end:{line:88,column:15}},loc:{start:{line:88,column:20},end:{line:88,column:39}},line:88}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"184e555c613fa2327acc9b72f895f34953529c7e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_7olmqi0yi=function(){return actualCoverage;};}return actualCoverage;}cov_7olmqi0yi();cov_7olmqi0yi().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL}}=(cov_7olmqi0yi().s[1]++,process);const registerWorker=(cov_7olmqi0yi().s[2]++,require('./register-worker'));const{random}=(cov_7olmqi0yi().s[3]++,Math);const{expect}=(cov_7olmqi0yi().s[4]++,require('chai'));cov_7olmqi0yi().s[5]++;require('takemytask-commons/polyfills/json');const{mongoose,models:{Worker}}=(cov_7olmqi0yi().s[6]++,require('takemytask-data'));const bcrypt=(cov_7olmqi0yi().s[7]++,require('bcryptjs'));cov_7olmqi0yi().s[8]++;describe('logic - register worker',()=>{cov_7olmqi0yi().f[0]++;cov_7olmqi0yi().s[9]++;before(()=>{cov_7olmqi0yi().f[1]++;cov_7olmqi0yi().s[10]++;return mongoose.connect(MONGODB_URL);});let name,surname,email,password,adress,bankAcount,description,pricingHour,jobCategories,workingDistance;cov_7olmqi0yi().s[11]++;beforeEach(async()=>{cov_7olmqi0yi().f[2]++;cov_7olmqi0yi().s[12]++;await Worker.deleteMany();cov_7olmqi0yi().s[13]++;name=`name-${random()}`;cov_7olmqi0yi().s[14]++;surname=`surname-${random()}`;cov_7olmqi0yi().s[15]++;email=`e-${random()}@mail.com`;cov_7olmqi0yi().s[16]++;password=`password-${random()}`;cov_7olmqi0yi().s[17]++;adress=`street-${random()}`;cov_7olmqi0yi().s[18]++;bankAcount=`bankAcount-${random()}`;cov_7olmqi0yi().s[19]++;description=`description-${random()}`;cov_7olmqi0yi().s[20]++;pricingHour=parseInt(random()*100);cov_7olmqi0yi().s[21]++;jobCategories=`jobCategories-${random()}`;cov_7olmqi0yi().s[22]++;workingDistance=parseInt(random()*100);});cov_7olmqi0yi().s[23]++;it('should succeed on valid data',async()=>{cov_7olmqi0yi().f[3]++;const result=(cov_7olmqi0yi().s[24]++,await registerWorker(name,surname,email,password,adress,bankAcount,description,pricingHour,jobCategories,workingDistance));cov_7olmqi0yi().s[25]++;expect(result).to.be.undefined;const users=(cov_7olmqi0yi().s[26]++,await Worker.find());cov_7olmqi0yi().s[27]++;expect(users.length).to.equal(1);const[user]=(cov_7olmqi0yi().s[28]++,users);cov_7olmqi0yi().s[29]++;expect(user.name).to.equal(name);cov_7olmqi0yi().s[30]++;expect(user.surname).to.equal(surname);cov_7olmqi0yi().s[31]++;expect(user.email).to.equal(email);cov_7olmqi0yi().s[32]++;expect(user.adress).to.equal(adress);cov_7olmqi0yi().s[33]++;expect(user.bankAcount).to.equal(bankAcount);cov_7olmqi0yi().s[34]++;expect(user.description).to.equal(description);cov_7olmqi0yi().s[35]++;expect(user.pricingHour).to.equal(pricingHour);cov_7olmqi0yi().s[36]++;expect(user.jobCategories).to.equal(jobCategories);cov_7olmqi0yi().s[37]++;expect(user.workingDistance).to.equal(workingDistance);const match=(cov_7olmqi0yi().s[38]++,await bcrypt.compare(password,user.password));cov_7olmqi0yi().s[39]++;expect(match).to.be.true;});cov_7olmqi0yi().s[40]++;it('should fail on invalid argument',async()=>{cov_7olmqi0yi().f[4]++;cov_7olmqi0yi().s[41]++;try{const result=(cov_7olmqi0yi().s[42]++,await registerWorker(undefined,surname,email,password,adress));cov_7olmqi0yi().s[43]++;expect(result).to.exist;}catch(error){cov_7olmqi0yi().s[44]++;expect(error).to.exist;cov_7olmqi0yi().s[45]++;expect(error.message).to.equal('undefined is not a string');}});cov_7olmqi0yi().s[46]++;describe('when user already exists',()=>{cov_7olmqi0yi().f[5]++;cov_7olmqi0yi().s[47]++;beforeEach(()=>{cov_7olmqi0yi().f[6]++;cov_7olmqi0yi().s[48]++;return Worker.create({name,surname,email,password,adress,bankAcount,description,pricingHour,jobCategories,workingDistance});});cov_7olmqi0yi().s[49]++;it('should fail on trying to register an existing user',async()=>{cov_7olmqi0yi().f[7]++;cov_7olmqi0yi().s[50]++;try{cov_7olmqi0yi().s[51]++;await registerWorker(name,surname,email,password,adress,bankAcount,description,pricingHour,jobCategories,workingDistance);cov_7olmqi0yi().s[52]++;throw new Error('should not reach this point');}catch(error){cov_7olmqi0yi().s[53]++;expect(error).to.exist;cov_7olmqi0yi().s[54]++;expect(error).to.be.an.instanceof(Error);cov_7olmqi0yi().s[55]++;expect(error.message).to.equal(`user with e-mail ${email} already exists`);}});});cov_7olmqi0yi().s[56]++;afterEach(()=>{cov_7olmqi0yi().f[8]++;cov_7olmqi0yi().s[57]++;return Worker.deleteMany();});cov_7olmqi0yi().s[58]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyLXdvcmtlci5zcGVjLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJlbnYiLCJURVNUX01PTkdPREJfVVJMIiwiTU9OR09EQl9VUkwiLCJwcm9jZXNzIiwicmVnaXN0ZXJXb3JrZXIiLCJyYW5kb20iLCJNYXRoIiwiZXhwZWN0IiwibW9uZ29vc2UiLCJtb2RlbHMiLCJXb3JrZXIiLCJiY3J5cHQiLCJkZXNjcmliZSIsImJlZm9yZSIsImNvbm5lY3QiLCJuYW1lIiwic3VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJhZHJlc3MiLCJiYW5rQWNvdW50IiwiZGVzY3JpcHRpb24iLCJwcmljaW5nSG91ciIsImpvYkNhdGVnb3JpZXMiLCJ3b3JraW5nRGlzdGFuY2UiLCJiZWZvcmVFYWNoIiwiZGVsZXRlTWFueSIsInBhcnNlSW50IiwiaXQiLCJyZXN1bHQiLCJ0byIsImJlIiwidW5kZWZpbmVkIiwidXNlcnMiLCJmaW5kIiwibGVuZ3RoIiwiZXF1YWwiLCJ1c2VyIiwibWF0Y2giLCJjb21wYXJlIiwidHJ1ZSIsImV4aXN0IiwiZXJyb3IiLCJtZXNzYWdlIiwiY3JlYXRlIiwiRXJyb3IiLCJhbiIsImluc3RhbmNlb2YiLCJhZnRlckVhY2giLCJhZnRlciIsImRpc2Nvbm5lY3QiXSwibWFwcGluZ3MiOiI0dExBZVk7Z0hBZlpBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCLEdBRUEsS0FBTSxDQUFFQyxHQUFHLENBQUUsQ0FBRUMsZ0JBQWdCLENBQUVDLFdBQXBCLENBQVAsMEJBQTZDQyxPQUE3QyxDQUFOLENBRUEsS0FBTUMsQ0FBQUEsY0FBYyx5QkFBR04sT0FBTyxDQUFDLG1CQUFELENBQVYsQ0FBcEIsQ0FDQSxLQUFNLENBQUVPLE1BQUYsMEJBQWFDLElBQWIsQ0FBTixDQUNBLEtBQU0sQ0FBRUMsTUFBRiwwQkFBYVQsT0FBTyxDQUFDLE1BQUQsQ0FBcEIsQ0FBTixDLHVCQUNBQSxPQUFPLENBQUMsbUNBQUQsQ0FBUCxDQUNBLEtBQU0sQ0FBRVUsUUFBRixDQUFZQyxNQUFNLENBQUUsQ0FBRUMsTUFBRixDQUFwQiwwQkFBbUNaLE9BQU8sQ0FBQyxpQkFBRCxDQUExQyxDQUFOLENBQ0EsS0FBTWEsQ0FBQUEsTUFBTSx5QkFBR2IsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFaLEMsdUJBRUFjLFFBQVEsQ0FBQyx5QkFBRCxDQUE0QixJQUFNLCtDQUN0Q0MsTUFBTSxDQUFDLElBQU0sc0RBQUFMLENBQUFBLFFBQVEsQ0FBQ00sT0FBVCxDQUFpQlosV0FBakIsRUFBNkIsQ0FBcEMsQ0FBTixDQUVBLEdBQUlhLENBQUFBLElBQUosQ0FBVUMsT0FBVixDQUFtQkMsS0FBbkIsQ0FBMEJDLFFBQTFCLENBQW9DQyxNQUFwQyxDQUE0Q0MsVUFBNUMsQ0FBd0RDLFdBQXhELENBQXFFQyxXQUFyRSxDQUFrRkMsYUFBbEYsQ0FBaUdDLGVBQWpHLENBSHNDLHdCQUt0Q0MsVUFBVSxDQUFDLFNBQVksZ0RBQ25CLEtBQU1mLENBQUFBLE1BQU0sQ0FBQ2dCLFVBQVAsRUFBTixDQURtQix3QkFHbkJYLElBQUksQ0FBSSxRQUFPVixNQUFNLEVBQUcsRUFBeEIsQ0FIbUIsd0JBSW5CVyxPQUFPLENBQUksV0FBVVgsTUFBTSxFQUFHLEVBQTlCLENBSm1CLHdCQUtuQlksS0FBSyxDQUFJLEtBQUlaLE1BQU0sRUFBRyxXQUF0QixDQUxtQix3QkFNbkJhLFFBQVEsQ0FBSSxZQUFXYixNQUFNLEVBQUcsRUFBaEMsQ0FObUIsd0JBT25CYyxNQUFNLENBQUksVUFBU2QsTUFBTSxFQUFHLEVBQTVCLENBUG1CLHdCQVFuQmUsVUFBVSxDQUFJLGNBQWFmLE1BQU0sRUFBRyxFQUFwQyxDQVJtQix3QkFTbkJnQixXQUFXLENBQUksZUFBY2hCLE1BQU0sRUFBRyxFQUF0QyxDQVRtQix3QkFVbkJpQixXQUFXLENBQUdLLFFBQVEsQ0FBQ3RCLE1BQU0sR0FBRyxHQUFWLENBQXRCLENBVm1CLHdCQVduQmtCLGFBQWEsQ0FBSSxpQkFBZ0JsQixNQUFNLEVBQUcsRUFBMUMsQ0FYbUIsd0JBWW5CbUIsZUFBZSxDQUFHRyxRQUFRLENBQUN0QixNQUFNLEdBQUcsR0FBVixDQUExQixDQUNILENBYlMsQ0FBVixDQUxzQyx3QkFvQnRDdUIsRUFBRSxDQUFDLDhCQUFELENBQWlDLFNBQVksd0JBQzNDLEtBQU1DLENBQUFBLE1BQU0sMEJBQUcsS0FBTXpCLENBQUFBLGNBQWMsQ0FBQ1csSUFBRCxDQUFPQyxPQUFQLENBQWdCQyxLQUFoQixDQUF1QkMsUUFBdkIsQ0FBaUNDLE1BQWpDLENBQXlDQyxVQUF6QyxDQUFxREMsV0FBckQsQ0FBa0VDLFdBQWxFLENBQStFQyxhQUEvRSxDQUE4RkMsZUFBOUYsQ0FBdkIsQ0FBWixDQUQyQyx3QkFHM0NqQixNQUFNLENBQUNzQixNQUFELENBQU4sQ0FBZUMsRUFBZixDQUFrQkMsRUFBbEIsQ0FBcUJDLFNBQXJCLENBRUEsS0FBTUMsQ0FBQUEsS0FBSywwQkFBRyxLQUFNdkIsQ0FBQUEsTUFBTSxDQUFDd0IsSUFBUCxFQUFULENBQVgsQ0FMMkMsd0JBTzNDM0IsTUFBTSxDQUFDMEIsS0FBSyxDQUFDRSxNQUFQLENBQU4sQ0FBcUJMLEVBQXJCLENBQXdCTSxLQUF4QixDQUE4QixDQUE5QixFQUVBLEtBQU0sQ0FBQ0MsSUFBRCwyQkFBU0osS0FBVCxDQUFOLENBVDJDLHdCQVczQzFCLE1BQU0sQ0FBQzhCLElBQUksQ0FBQ3RCLElBQU4sQ0FBTixDQUFrQmUsRUFBbEIsQ0FBcUJNLEtBQXJCLENBQTJCckIsSUFBM0IsRUFYMkMsd0JBWTNDUixNQUFNLENBQUM4QixJQUFJLENBQUNyQixPQUFOLENBQU4sQ0FBcUJjLEVBQXJCLENBQXdCTSxLQUF4QixDQUE4QnBCLE9BQTlCLEVBWjJDLHdCQWEzQ1QsTUFBTSxDQUFDOEIsSUFBSSxDQUFDcEIsS0FBTixDQUFOLENBQW1CYSxFQUFuQixDQUFzQk0sS0FBdEIsQ0FBNEJuQixLQUE1QixFQWIyQyx3QkFjM0NWLE1BQU0sQ0FBQzhCLElBQUksQ0FBQ2xCLE1BQU4sQ0FBTixDQUFvQlcsRUFBcEIsQ0FBdUJNLEtBQXZCLENBQTZCakIsTUFBN0IsRUFkMkMsd0JBZTNDWixNQUFNLENBQUM4QixJQUFJLENBQUNqQixVQUFOLENBQU4sQ0FBd0JVLEVBQXhCLENBQTJCTSxLQUEzQixDQUFpQ2hCLFVBQWpDLEVBZjJDLHdCQWdCM0NiLE1BQU0sQ0FBQzhCLElBQUksQ0FBQ2hCLFdBQU4sQ0FBTixDQUF5QlMsRUFBekIsQ0FBNEJNLEtBQTVCLENBQWtDZixXQUFsQyxFQWhCMkMsd0JBaUIzQ2QsTUFBTSxDQUFDOEIsSUFBSSxDQUFDZixXQUFOLENBQU4sQ0FBeUJRLEVBQXpCLENBQTRCTSxLQUE1QixDQUFrQ2QsV0FBbEMsRUFqQjJDLHdCQWtCM0NmLE1BQU0sQ0FBQzhCLElBQUksQ0FBQ2QsYUFBTixDQUFOLENBQTJCTyxFQUEzQixDQUE4Qk0sS0FBOUIsQ0FBb0NiLGFBQXBDLEVBbEIyQyx3QkFtQjNDaEIsTUFBTSxDQUFDOEIsSUFBSSxDQUFDYixlQUFOLENBQU4sQ0FBNkJNLEVBQTdCLENBQWdDTSxLQUFoQyxDQUFzQ1osZUFBdEMsRUFFQSxLQUFNYyxDQUFBQSxLQUFLLDBCQUFHLEtBQU0zQixDQUFBQSxNQUFNLENBQUM0QixPQUFQLENBQWVyQixRQUFmLENBQXlCbUIsSUFBSSxDQUFDbkIsUUFBOUIsQ0FBVCxDQUFYLENBckIyQyx3QkF1QjNDWCxNQUFNLENBQUMrQixLQUFELENBQU4sQ0FBY1IsRUFBZCxDQUFpQkMsRUFBakIsQ0FBb0JTLElBQXBCLENBQ0gsQ0F4QkMsQ0FBRixDQXBCc0Msd0JBOEN0Q1osRUFBRSxDQUFDLGlDQUFELENBQW9DLFNBQVksZ0RBQzlDLEdBQUcsQ0FFQyxLQUFNQyxDQUFBQSxNQUFNLDBCQUFHLEtBQU16QixDQUFBQSxjQUFjLENBQUM0QixTQUFELENBQVloQixPQUFaLENBQXFCQyxLQUFyQixDQUE0QkMsUUFBNUIsQ0FBc0NDLE1BQXRDLENBQXZCLENBQVosQ0FGRCx3QkFHQ1osTUFBTSxDQUFDc0IsTUFBRCxDQUFOLENBQWVDLEVBQWYsQ0FBa0JXLEtBQWxCLENBQ0gsT0FBTUMsS0FBTixDQUFZLHlCQUNUbkMsTUFBTSxDQUFDbUMsS0FBRCxDQUFOLENBQWNaLEVBQWQsQ0FBaUJXLEtBQWpCLENBRFMsd0JBRVRsQyxNQUFNLENBQUNtQyxLQUFLLENBQUNDLE9BQVAsQ0FBTixDQUFzQmIsRUFBdEIsQ0FBeUJNLEtBQXpCLENBQStCLDJCQUEvQixFQUNILENBQ0osQ0FUQyxDQUFGLENBOUNzQyx3QkEyRHRDeEIsUUFBUSxDQUFDLDBCQUFELENBQTZCLElBQU0sZ0RBQ3ZDYSxVQUFVLENBQUMsSUFBTSxzREFBQWYsQ0FBQUEsTUFBTSxDQUFDa0MsTUFBUCxDQUFjLENBQUU3QixJQUFGLENBQVFDLE9BQVIsQ0FBaUJDLEtBQWpCLENBQXdCQyxRQUF4QixDQUFrQ0MsTUFBbEMsQ0FBMENDLFVBQTFDLENBQXNEQyxXQUF0RCxDQUFtRUMsV0FBbkUsQ0FBZ0ZDLGFBQWhGLENBQStGQyxlQUEvRixDQUFkLEVBQStILENBQXRJLENBQVYsQ0FEdUMsd0JBR3ZDSSxFQUFFLENBQUMsb0RBQUQsQ0FBdUQsU0FBWSxnREFDakUsR0FBSSx5QkFDQSxLQUFNeEIsQ0FBQUEsY0FBYyxDQUFDVyxJQUFELENBQU9DLE9BQVAsQ0FBZ0JDLEtBQWhCLENBQXVCQyxRQUF2QixDQUFpQ0MsTUFBakMsQ0FBeUNDLFVBQXpDLENBQXFEQyxXQUFyRCxDQUFrRUMsV0FBbEUsQ0FBK0VDLGFBQS9FLENBQThGQyxlQUE5RixDQUFwQixDQURBLHdCQUdBLEtBQU0sSUFBSXFCLENBQUFBLEtBQUosQ0FBVSw2QkFBVixDQUFOLENBQ0gsQ0FBQyxNQUFPSCxLQUFQLENBQWMseUJBQ1puQyxNQUFNLENBQUNtQyxLQUFELENBQU4sQ0FBY1osRUFBZCxDQUFpQlcsS0FBakIsQ0FEWSx3QkFHWmxDLE1BQU0sQ0FBQ21DLEtBQUQsQ0FBTixDQUFjWixFQUFkLENBQWlCQyxFQUFqQixDQUFvQmUsRUFBcEIsQ0FBdUJDLFVBQXZCLENBQWtDRixLQUFsQyxFQUhZLHdCQUladEMsTUFBTSxDQUFDbUMsS0FBSyxDQUFDQyxPQUFQLENBQU4sQ0FBc0JiLEVBQXRCLENBQXlCTSxLQUF6QixDQUFnQyxvQkFBbUJuQixLQUFNLGlCQUF6RCxFQUNILENBQ0osQ0FYQyxDQUFGLENBWUgsQ0FmTyxDQUFSLENBM0RzQyx3QkE0RXRDK0IsU0FBUyxDQUFDLElBQU0sc0RBQUF0QyxDQUFBQSxNQUFNLENBQUNnQixVQUFQLEdBQW1CLENBQTFCLENBQVQsQ0E1RXNDLHdCQThFdEN1QixLQUFLLENBQUN6QyxRQUFRLENBQUMwQyxVQUFWLENBQUwsQ0FDSCxDQS9FTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcclxuXHJcbmNvbnN0IHsgZW52OiB7IFRFU1RfTU9OR09EQl9VUkw6IE1PTkdPREJfVVJMIH0gfSA9IHByb2Nlc3NcclxuXHJcbmNvbnN0IHJlZ2lzdGVyV29ya2VyID0gcmVxdWlyZSgnLi9yZWdpc3Rlci13b3JrZXInKVxyXG5jb25zdCB7IHJhbmRvbSB9ID0gTWF0aFxyXG5jb25zdCB7IGV4cGVjdCB9ID0gcmVxdWlyZSgnY2hhaScpXHJcbnJlcXVpcmUoJ3Rha2VteXRhc2stY29tbW9ucy9wb2x5ZmlsbHMvanNvbicpXHJcbmNvbnN0IHsgbW9uZ29vc2UsIG1vZGVsczogeyBXb3JrZXIgfSB9ID0gcmVxdWlyZSgndGFrZW15dGFzay1kYXRhJylcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKVxyXG5cclxuZGVzY3JpYmUoJ2xvZ2ljIC0gcmVnaXN0ZXIgd29ya2VyJywgKCkgPT4ge1xyXG4gICAgYmVmb3JlKCgpID0+IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkwpKVxyXG5cclxuICAgIGxldCBuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGFkcmVzcywgYmFua0Fjb3VudCwgZGVzY3JpcHRpb24sIHByaWNpbmdIb3VyLCBqb2JDYXRlZ29yaWVzLCB3b3JraW5nRGlzdGFuY2VcclxuXHJcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcclxuICAgICAgICBhd2FpdCBXb3JrZXIuZGVsZXRlTWFueSgpXHJcblxyXG4gICAgICAgIG5hbWUgPSBgbmFtZS0ke3JhbmRvbSgpfWBcclxuICAgICAgICBzdXJuYW1lID0gYHN1cm5hbWUtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgZW1haWwgPSBgZS0ke3JhbmRvbSgpfUBtYWlsLmNvbWBcclxuICAgICAgICBwYXNzd29yZCA9IGBwYXNzd29yZC0ke3JhbmRvbSgpfWBcclxuICAgICAgICBhZHJlc3MgPSBgc3RyZWV0LSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGJhbmtBY291bnQgPSBgYmFua0Fjb3VudC0ke3JhbmRvbSgpfWBcclxuICAgICAgICBkZXNjcmlwdGlvbiA9IGBkZXNjcmlwdGlvbi0ke3JhbmRvbSgpfWBcclxuICAgICAgICBwcmljaW5nSG91ciA9IHBhcnNlSW50KHJhbmRvbSgpKjEwMClcclxuICAgICAgICBqb2JDYXRlZ29yaWVzID0gYGpvYkNhdGVnb3JpZXMtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgd29ya2luZ0Rpc3RhbmNlID0gcGFyc2VJbnQocmFuZG9tKCkqMTAwKVxyXG4gICAgfSlcclxuXHJcbiAgICBpdCgnc2hvdWxkIHN1Y2NlZWQgb24gdmFsaWQgZGF0YScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWdpc3RlcldvcmtlcihuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGFkcmVzcywgYmFua0Fjb3VudCwgZGVzY3JpcHRpb24sIHByaWNpbmdIb3VyLCBqb2JDYXRlZ29yaWVzLCB3b3JraW5nRGlzdGFuY2UpXHJcblxyXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvLmJlLnVuZGVmaW5lZFxyXG5cclxuICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IFdvcmtlci5maW5kKClcclxuXHJcbiAgICAgICAgZXhwZWN0KHVzZXJzLmxlbmd0aCkudG8uZXF1YWwoMSlcclxuXHJcbiAgICAgICAgY29uc3QgW3VzZXJdID0gdXNlcnNcclxuXHJcbiAgICAgICAgZXhwZWN0KHVzZXIubmFtZSkudG8uZXF1YWwobmFtZSlcclxuICAgICAgICBleHBlY3QodXNlci5zdXJuYW1lKS50by5lcXVhbChzdXJuYW1lKVxyXG4gICAgICAgIGV4cGVjdCh1c2VyLmVtYWlsKS50by5lcXVhbChlbWFpbClcclxuICAgICAgICBleHBlY3QodXNlci5hZHJlc3MpLnRvLmVxdWFsKGFkcmVzcylcclxuICAgICAgICBleHBlY3QodXNlci5iYW5rQWNvdW50KS50by5lcXVhbChiYW5rQWNvdW50KVxyXG4gICAgICAgIGV4cGVjdCh1c2VyLmRlc2NyaXB0aW9uKS50by5lcXVhbChkZXNjcmlwdGlvbilcclxuICAgICAgICBleHBlY3QodXNlci5wcmljaW5nSG91cikudG8uZXF1YWwocHJpY2luZ0hvdXIpXHJcbiAgICAgICAgZXhwZWN0KHVzZXIuam9iQ2F0ZWdvcmllcykudG8uZXF1YWwoam9iQ2F0ZWdvcmllcylcclxuICAgICAgICBleHBlY3QodXNlci53b3JraW5nRGlzdGFuY2UpLnRvLmVxdWFsKHdvcmtpbmdEaXN0YW5jZSlcclxuXHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZClcclxuXHJcbiAgICAgICAgZXhwZWN0KG1hdGNoKS50by5iZS50cnVlXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdzaG91bGQgZmFpbCBvbiBpbnZhbGlkIGFyZ3VtZW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeXtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlZ2lzdGVyV29ya2VyKHVuZGVmaW5lZCwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3MpXHJcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRvLmV4aXN0XHJcbiAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5leGlzdFxyXG4gICAgICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG8uZXF1YWwoJ3VuZGVmaW5lZCBpcyBub3QgYSBzdHJpbmcnKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5cclxuXHJcbiAgICBkZXNjcmliZSgnd2hlbiB1c2VyIGFscmVhZHkgZXhpc3RzJywgKCkgPT4ge1xyXG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT4gV29ya2VyLmNyZWF0ZSh7IG5hbWUsIHN1cm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgYWRyZXNzLCBiYW5rQWNvdW50LCBkZXNjcmlwdGlvbiwgcHJpY2luZ0hvdXIsIGpvYkNhdGVnb3JpZXMsIHdvcmtpbmdEaXN0YW5jZSB9KSlcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBmYWlsIG9uIHRyeWluZyB0byByZWdpc3RlciBhbiBleGlzdGluZyB1c2VyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgcmVnaXN0ZXJXb3JrZXIobmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3MsIGJhbmtBY291bnQsIGRlc2NyaXB0aW9uLCBwcmljaW5nSG91ciwgam9iQ2F0ZWdvcmllcywgd29ya2luZ0Rpc3RhbmNlKVxyXG5cclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2hvdWxkIG5vdCByZWFjaCB0aGlzIHBvaW50JylcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChlcnJvcikudG8uZXhpc3RcclxuXHJcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmJlLmFuLmluc3RhbmNlb2YoRXJyb3IpXHJcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG8uZXF1YWwoYHVzZXIgd2l0aCBlLW1haWwgJHtlbWFpbH0gYWxyZWFkeSBleGlzdHNgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgYWZ0ZXJFYWNoKCgpID0+IFdvcmtlci5kZWxldGVNYW55KCkpXHJcblxyXG4gICAgYWZ0ZXIobW9uZ29vc2UuZGlzY29ubmVjdClcclxufSkiXX0=