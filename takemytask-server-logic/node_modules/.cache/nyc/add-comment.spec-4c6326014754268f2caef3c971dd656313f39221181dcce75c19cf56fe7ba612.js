function cov_anhazhxgp(){var path="C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-server-logic\\add-comment.spec.js";var hash="98bc3637df59e7fc884f69b2eb4e4d9122bffe1d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\polpe\\bootcamp\\collab\\skylab-bootcamp-202004\\staff\\pol-pedro\\takemytask\\takemytask-server-logic\\add-comment.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:96},end:{line:3,column:103}},"2":{start:{line:5,column:18},end:{line:5,column:42}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:19},end:{line:7,column:34}},"5":{start:{line:8,column:0},end:{line:8,column:44}},"6":{start:{line:9,column:35},end:{line:9,column:64}},"7":{start:{line:10,column:68},end:{line:10,column:94}},"8":{start:{line:11,column:15},end:{line:11,column:34}},"9":{start:{line:12,column:0},end:{line:12,column:43}},"10":{start:{line:14,column:0},end:{line:100,column:2}},"11":{start:{line:15,column:4},end:{line:15,column:47}},"12":{start:{line:15,column:17},end:{line:15,column:46}},"13":{start:{line:19,column:4},end:{line:47,column:6}},"14":{start:{line:20,column:8},end:{line:20,column:31}},"15":{start:{line:21,column:8},end:{line:21,column:33}},"16":{start:{line:23,column:8},end:{line:23,column:33}},"17":{start:{line:24,column:8},end:{line:24,column:39}},"18":{start:{line:25,column:8},end:{line:25,column:40}},"19":{start:{line:26,column:8},end:{line:26,column:41}},"20":{start:{line:27,column:8},end:{line:27,column:37}},"21":{start:{line:29,column:8},end:{line:29,column:34}},"22":{start:{line:30,column:8},end:{line:30,column:40}},"23":{start:{line:31,column:8},end:{line:31,column:41}},"24":{start:{line:32,column:8},end:{line:32,column:42}},"25":{start:{line:33,column:8},end:{line:33,column:38}},"26":{start:{line:34,column:8},end:{line:34,column:45}},"27":{start:{line:35,column:8},end:{line:35,column:49}},"28":{start:{line:36,column:8},end:{line:36,column:47}},"29":{start:{line:37,column:8},end:{line:37,column:33}},"30":{start:{line:38,column:8},end:{line:38,column:51}},"31":{start:{line:39,column:8},end:{line:39,column:37}},"32":{start:{line:41,column:23},end:{line:41,column:202}},"33":{start:{line:43,column:8},end:{line:43,column:39}},"34":{start:{line:45,column:8},end:{line:45,column:37}},"35":{start:{line:48,column:4},end:{line:78,column:6}},"36":{start:{line:49,column:8},end:{line:54,column:10}},"37":{start:{line:50,column:25},end:{line:50,column:84}},"38":{start:{line:52,column:12},end:{line:52,column:40}},"39":{start:{line:56,column:8},end:{line:66,column:10}},"40":{start:{line:57,column:12},end:{line:57,column:53}},"41":{start:{line:59,column:28},end:{line:59,column:47}},"42":{start:{line:61,column:29},end:{line:61,column:36}},"43":{start:{line:63,column:12},end:{line:63,column:35}},"44":{start:{line:64,column:12},end:{line:64,column:49}},"45":{start:{line:65,column:12},end:{line:65,column:92}},"46":{start:{line:68,column:8},end:{line:77,column:10}},"47":{start:{line:69,column:12},end:{line:76,column:13}},"48":{start:{line:71,column:16},end:{line:71,column:53}},"49":{start:{line:74,column:16},end:{line:74,column:40}},"50":{start:{line:75,column:16},end:{line:75,column:68}},"51":{start:{line:80,column:4},end:{line:95,column:6}},"52":{start:{line:82,column:8},end:{line:84,column:10}},"53":{start:{line:83,column:12},end:{line:83,column:47}},"54":{start:{line:85,column:8},end:{line:94,column:10}},"55":{start:{line:87,column:27},end:{line:92,column:18}},"56":{start:{line:90,column:20},end:{line:90,column:42}},"57":{start:{line:91,column:20},end:{line:91,column:88}},"58":{start:{line:97,column:4},end:{line:97,column:59}},"59":{start:{line:97,column:20},end:{line:97,column:39}},"60":{start:{line:99,column:4},end:{line:99,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:14,column:31},end:{line:14,column:32}},loc:{start:{line:14,column:37},end:{line:100,column:1}},line:14},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:17},end:{line:15,column:46}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:19,column:15},end:{line:19,column:16}},loc:{start:{line:19,column:27},end:{line:47,column:5}},line:19},"3":{name:"(anonymous_3)",decl:{start:{line:48,column:28},end:{line:48,column:29}},loc:{start:{line:48,column:34},end:{line:78,column:5}},line:48},"4":{name:"(anonymous_4)",decl:{start:{line:49,column:19},end:{line:49,column:20}},loc:{start:{line:49,column:31},end:{line:54,column:9}},line:49},"5":{name:"(anonymous_5)",decl:{start:{line:56,column:46},end:{line:56,column:47}},loc:{start:{line:56,column:58},end:{line:66,column:9}},line:56},"6":{name:"(anonymous_6)",decl:{start:{line:68,column:46},end:{line:68,column:47}},loc:{start:{line:68,column:58},end:{line:77,column:9}},line:68},"7":{name:"(anonymous_7)",decl:{start:{line:80,column:33},end:{line:80,column:34}},loc:{start:{line:80,column:39},end:{line:95,column:5}},line:80},"8":{name:"(anonymous_8)",decl:{start:{line:82,column:19},end:{line:82,column:20}},loc:{start:{line:82,column:30},end:{line:84,column:9}},line:82},"9":{name:"(anonymous_9)",decl:{start:{line:85,column:50},end:{line:85,column:51}},loc:{start:{line:85,column:62},end:{line:94,column:9}},line:85},"10":{name:"(anonymous_10)",decl:{start:{line:89,column:23},end:{line:89,column:24}},loc:{start:{line:89,column:32},end:{line:92,column:17}},line:89},"11":{name:"(anonymous_11)",decl:{start:{line:97,column:14},end:{line:97,column:15}},loc:{start:{line:97,column:20},end:{line:97,column:39}},line:97}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"98bc3637df59e7fc884f69b2eb4e4d9122bffe1d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_anhazhxgp=function(){return actualCoverage;};}return actualCoverage;}cov_anhazhxgp();cov_anhazhxgp().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL,TEST_SECRET:SECRET,TEST_API_URL:API_URL}}=(cov_anhazhxgp().s[1]++,process);const addComent=(cov_anhazhxgp().s[2]++,require('./add-comment'));const{random}=(cov_anhazhxgp().s[3]++,Math);const{expect}=(cov_anhazhxgp().s[4]++,require('chai'));cov_anhazhxgp().s[5]++;require('takemytask-commons/polyfills/json');const{utils:{jwtPromised}}=(cov_anhazhxgp().s[6]++,require('takemytask-commons'));const{mongoose,models:{User,Worker},mongoose:{ObjectId}}=(cov_anhazhxgp().s[7]++,require('takemytask-data'));const bcrypt=(cov_anhazhxgp().s[8]++,require('bcryptjs'));cov_anhazhxgp().s[9]++;require('takemytask-commons/ponyfills/xhr');cov_anhazhxgp().s[10]++;describe('logic - add coment',()=>{cov_anhazhxgp().f[0]++;cov_anhazhxgp().s[11]++;before(()=>{cov_anhazhxgp().f[1]++;cov_anhazhxgp().s[12]++;return mongoose.connect(MONGODB_URL);});let name,surname,email,password,adress,bankAcount,description,pricingHour,jobCategories,workingDistance,workerId,coment,userId;cov_anhazhxgp().s[13]++;beforeEach(async()=>{cov_anhazhxgp().f[2]++;cov_anhazhxgp().s[14]++;await User.deleteMany();cov_anhazhxgp().s[15]++;await Worker.deleteMany();cov_anhazhxgp().s[16]++;name=`name-${random()}`;cov_anhazhxgp().s[17]++;surname=`surname-${random()}`;cov_anhazhxgp().s[18]++;email=`e-${random()}@mail.com`;cov_anhazhxgp().s[19]++;password=`password-${random()}`;cov_anhazhxgp().s[20]++;adress=`street-${random()}`;cov_anhazhxgp().s[21]++;nameW=`name-${random()}`;cov_anhazhxgp().s[22]++;surnameW=`surname-${random()}`;cov_anhazhxgp().s[23]++;emailW=`e-${random()}@mail.com`;cov_anhazhxgp().s[24]++;passwordW=`password-${random()}`;cov_anhazhxgp().s[25]++;adressW=`street-${random()}`;cov_anhazhxgp().s[26]++;bankAcount=`bankAcount-${random()}`;cov_anhazhxgp().s[27]++;presentation=`presentation-${random()}`;cov_anhazhxgp().s[28]++;description=`description-${random()}`;cov_anhazhxgp().s[29]++;pricingHour=random()*10;cov_anhazhxgp().s[30]++;jobCategories=`jobCategories-${random()}`;cov_anhazhxgp().s[31]++;workingDistance=random()*10;const worker=(cov_anhazhxgp().s[32]++,await Worker.create({name:nameW,surname:surnameW,email:emailW,password,adress,adressW,bankAcount,description,presentation,pricingHour,jobCategories,workingDistance}));cov_anhazhxgp().s[33]++;workerId=worker.id.toString();cov_anhazhxgp().s[34]++;coment=`coment-${random()}`;});cov_anhazhxgp().s[35]++;describe('user exists',()=>{cov_anhazhxgp().f[3]++;cov_anhazhxgp().s[36]++;beforeEach(async()=>{cov_anhazhxgp().f[4]++;const user=(cov_anhazhxgp().s[37]++,await User.create({name,surname,email,password,adress}));cov_anhazhxgp().s[38]++;userId=user._id.toString();});cov_anhazhxgp().s[39]++;it('should succeed on adding coment',async()=>{cov_anhazhxgp().f[5]++;cov_anhazhxgp().s[40]++;await addComent(userId,workerId,coment);const results=(cov_anhazhxgp().s[41]++,await Worker.find());const[worker]=(cov_anhazhxgp().s[42]++,results);cov_anhazhxgp().s[43]++;expect(worker).to.exist;cov_anhazhxgp().s[44]++;expect(worker.comentsWorker).to.exist;cov_anhazhxgp().s[45]++;expect(worker.comentsWorker[0].userId.toString()).to.be.equal(userId.toString());});cov_anhazhxgp().s[46]++;it('should succeed on adding coment',async()=>{cov_anhazhxgp().f[6]++;cov_anhazhxgp().s[47]++;try{cov_anhazhxgp().s[48]++;await addComent(userId,workerId,"");}catch({message}){cov_anhazhxgp().s[49]++;expect(message).to.exist;cov_anhazhxgp().s[50]++;expect(message).to.equal("string is empty or blank");}});});cov_anhazhxgp().s[51]++;describe('chat dont exists',()=>{cov_anhazhxgp().f[7]++;let fakeId;cov_anhazhxgp().s[52]++;beforeEach(async()=>{cov_anhazhxgp().f[8]++;cov_anhazhxgp().s[53]++;fakeId='5ee0ed9a603a0a4f3c650fe1';});cov_anhazhxgp().s[54]++;it('sould fail when user id has no chat',async()=>{cov_anhazhxgp().f[9]++;const result=(cov_anhazhxgp().s[55]++,await addComent(fakeId,fakeId,coment).then().catch(error=>{cov_anhazhxgp().f[10]++;cov_anhazhxgp().s[56]++;expect(error).to.exist;cov_anhazhxgp().s[57]++;expect(error.message).to.equal(`user with id ${fakeId} dont exists`);}));});});cov_anhazhxgp().s[58]++;afterEach(()=>{cov_anhazhxgp().f[11]++;cov_anhazhxgp().s[59]++;return Worker.deleteMany();},User.deleteMany());cov_anhazhxgp().s[60]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1jb21tZW50LnNwZWMuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsImNvbmZpZyIsImVudiIsIlRFU1RfTU9OR09EQl9VUkwiLCJNT05HT0RCX1VSTCIsIlRFU1RfU0VDUkVUIiwiU0VDUkVUIiwiVEVTVF9BUElfVVJMIiwiQVBJX1VSTCIsInByb2Nlc3MiLCJhZGRDb21lbnQiLCJyYW5kb20iLCJNYXRoIiwiZXhwZWN0IiwidXRpbHMiLCJqd3RQcm9taXNlZCIsIm1vbmdvb3NlIiwibW9kZWxzIiwiVXNlciIsIldvcmtlciIsIk9iamVjdElkIiwiYmNyeXB0IiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJjb25uZWN0IiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWRyZXNzIiwiYmFua0Fjb3VudCIsImRlc2NyaXB0aW9uIiwicHJpY2luZ0hvdXIiLCJqb2JDYXRlZ29yaWVzIiwid29ya2luZ0Rpc3RhbmNlIiwid29ya2VySWQiLCJjb21lbnQiLCJ1c2VySWQiLCJiZWZvcmVFYWNoIiwiZGVsZXRlTWFueSIsIm5hbWVXIiwic3VybmFtZVciLCJlbWFpbFciLCJwYXNzd29yZFciLCJhZHJlc3NXIiwicHJlc2VudGF0aW9uIiwid29ya2VyIiwiY3JlYXRlIiwiaWQiLCJ0b1N0cmluZyIsInVzZXIiLCJfaWQiLCJpdCIsInJlc3VsdHMiLCJmaW5kIiwidG8iLCJleGlzdCIsImNvbWVudHNXb3JrZXIiLCJiZSIsImVxdWFsIiwibWVzc2FnZSIsImZha2VJZCIsInJlc3VsdCIsInRoZW4iLCJjYXRjaCIsImVycm9yIiwiYWZ0ZXJFYWNoIiwiYWZ0ZXIiLCJkaXNjb25uZWN0Il0sIm1hcHBpbmdzIjoidXlNQWVZO2dIQWZaQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHQUVBLEtBQU0sQ0FBRUMsR0FBRyxDQUFFLENBQUVDLGdCQUFnQixDQUFFQyxXQUFwQixDQUFpQ0MsV0FBVyxDQUFFQyxNQUE5QyxDQUFzREMsWUFBWSxD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Q0FBQ0wsT0FBUCxDQUFOLENBQXNCTCxFQUF0QixDQUF5QkksS0FBekIsQ0FBZ0MsZ0JBQWVFLE1BQU8sY0FBdEQsRUFDSCxDQUxnQixDQUFULENBQVosQ0FPSCxDQVRDLENBQUYsQ0FVSCxDQWZPLENBQVIsQ0FsRWlDLHdCQW1GakNLLFNBQVMsQ0FBQyxJQUFNLHVEQUFBL0MsQ0FBQUEsTUFBTSxDQUFDb0IsVUFBUCxHQUFtQixDQUExQixDQUE0QnJCLElBQUksQ0FBQ3FCLFVBQUwsRUFBNUIsQ0FBVCxDQW5GaUMsd0JBcUZqQzRCLEtBQUssQ0FBQ25ELFFBQVEsQ0FBQ29ELFVBQVYsQ0FBTCxDQUNILENBdEZPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKVxyXG5cclxuY29uc3QgeyBlbnY6IHsgVEVTVF9NT05HT0RCX1VSTDogTU9OR09EQl9VUkwsIFRFU1RfU0VDUkVUOiBTRUNSRVQsIFRFU1RfQVBJX1VSTDogQVBJX1VSTCAgfSB9ID0gcHJvY2Vzc1xyXG5cclxuY29uc3QgYWRkQ29tZW50ID0gcmVxdWlyZSgnLi9hZGQtY29tbWVudCcpXHJcbmNvbnN0IHsgcmFuZG9tIH0gPSBNYXRoXHJcbmNvbnN0IHsgZXhwZWN0IH0gPSByZXF1aXJlKCdjaGFpJylcclxucmVxdWlyZSgndGFrZW15dGFzay1jb21tb25zL3BvbHlmaWxscy9qc29uJylcclxuY29uc3QgeyB1dGlsczogeyBqd3RQcm9taXNlZCB9IH0gPSByZXF1aXJlKCd0YWtlbXl0YXNrLWNvbW1vbnMnKVxyXG5jb25zdCB7IG1vbmdvb3NlLCBtb2RlbHM6IHtVc2VyLCBXb3JrZXIgfSwgbW9uZ29vc2U6IHtPYmplY3RJZH0gfSA9IHJlcXVpcmUoJ3Rha2VteXRhc2stZGF0YScpXHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJylcclxucmVxdWlyZSgndGFrZW15dGFzay1jb21tb25zL3BvbnlmaWxscy94aHInKVxyXG5cclxuZGVzY3JpYmUoJ2xvZ2ljIC0gYWRkIGNvbWVudCcsICgpID0+IHtcclxuICAgIGJlZm9yZSgoKSA9PiBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJMKSlcclxuXHJcbiAgICBsZXQgbmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3MsIGJhbmtBY291bnQsIGRlc2NyaXB0aW9uLCBwcmljaW5nSG91ciwgam9iQ2F0ZWdvcmllcywgd29ya2luZ0Rpc3RhbmNlLCB3b3JrZXJJZCwgY29tZW50LCB1c2VySWRcclxuXHJcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcclxuICAgICAgICBhd2FpdCBVc2VyLmRlbGV0ZU1hbnkoKVxyXG4gICAgICAgIGF3YWl0IFdvcmtlci5kZWxldGVNYW55KClcclxuXHJcbiAgICAgICAgbmFtZSA9IGBuYW1lLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIHN1cm5hbWUgPSBgc3VybmFtZS0ke3JhbmRvbSgpfWBcclxuICAgICAgICBlbWFpbCA9IGBlLSR7cmFuZG9tKCl9QG1haWwuY29tYFxyXG4gICAgICAgIHBhc3N3b3JkID0gYHBhc3N3b3JkLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGFkcmVzcyA9IGBzdHJlZXQtJHtyYW5kb20oKX1gXHJcbiAgICBcclxuICAgICAgICBuYW1lVyA9IGBuYW1lLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIHN1cm5hbWVXID0gYHN1cm5hbWUtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgZW1haWxXID0gYGUtJHtyYW5kb20oKX1AbWFpbC5jb21gXHJcbiAgICAgICAgcGFzc3dvcmRXID0gYHBhc3N3b3JkLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGFkcmVzc1cgPSBgc3RyZWV0LSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGJhbmtBY291bnQgPSBgYmFua0Fjb3VudC0ke3JhbmRvbSgpfWBcclxuICAgICAgICBwcmVzZW50YXRpb24gPSBgcHJlc2VudGF0aW9uLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIGRlc2NyaXB0aW9uID0gYGRlc2NyaXB0aW9uLSR7cmFuZG9tKCl9YFxyXG4gICAgICAgIHByaWNpbmdIb3VyID0gcmFuZG9tKCkqMTBcclxuICAgICAgICBqb2JDYXRlZ29yaWVzID0gYGpvYkNhdGVnb3JpZXMtJHtyYW5kb20oKX1gXHJcbiAgICAgICAgd29ya2luZ0Rpc3RhbmNlID0gcmFuZG9tKCkqMTBcclxuXHJcbiAgICAgICAgY29uc3Qgd29ya2VyID0gYXdhaXQgV29ya2VyLmNyZWF0ZSh7bmFtZTogbmFtZVcsIHN1cm5hbWU6IHN1cm5hbWVXLCBlbWFpbDogZW1haWxXLCBwYXNzd29yZCwgYWRyZXNzLCBhZHJlc3NXLCBiYW5rQWNvdW50LCBkZXNjcmlwdGlvbiwgcHJlc2VudGF0aW9uLCBwcmljaW5nSG91ciwgam9iQ2F0ZWdvcmllcywgd29ya2luZ0Rpc3RhbmNlfSlcclxuXHJcbiAgICAgICAgd29ya2VySWQgPSB3b3JrZXIuaWQudG9TdHJpbmcoKVxyXG5cclxuICAgICAgICBjb21lbnQgPSBgY29tZW50LSR7cmFuZG9tKCl9YFxyXG5cclxuICAgIH0pXHJcbiAgICBkZXNjcmliZSgndXNlciBleGlzdHMnLCAoKSA9PiB7XHJcbiAgICAgICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7bmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3N9KVxyXG5cclxuICAgICAgICAgICAgdXNlcklkID0gdXNlci5faWQudG9TdHJpbmcoKVxyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHN1Y2NlZWQgb24gYWRkaW5nIGNvbWVudCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgYWRkQ29tZW50KHVzZXJJZCwgd29ya2VySWQsIGNvbWVudClcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBXb3JrZXIuZmluZCgpXHJcblxyXG4gICAgICAgICAgICBjb25zdCBbd29ya2VyXSA9IHJlc3VsdHNcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh3b3JrZXIpLnRvLmV4aXN0XHJcbiAgICAgICAgICAgIGV4cGVjdCh3b3JrZXIuY29tZW50c1dvcmtlcikudG8uZXhpc3RcclxuICAgICAgICAgICAgZXhwZWN0KHdvcmtlci5jb21lbnRzV29ya2VyWzBdLnVzZXJJZC50b1N0cmluZygpKS50by5iZS5lcXVhbCh1c2VySWQudG9TdHJpbmcoKSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIHN1Y2NlZWQgb24gYWRkaW5nIGNvbWVudCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdHJ5e1xyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IGFkZENvbWVudCh1c2VySWQsIHdvcmtlcklkLCBcIlwiKVxyXG5cclxuICAgICAgICAgICAgfWNhdGNoKHttZXNzYWdlfSl7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QobWVzc2FnZSkudG8uZXhpc3RcclxuICAgICAgICAgICAgICAgIGV4cGVjdChtZXNzYWdlKS50by5lcXVhbChcInN0cmluZyBpcyBlbXB0eSBvciBibGFua1wiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgZGVzY3JpYmUoJ2NoYXQgZG9udCBleGlzdHMnLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGZha2VJZFxyXG4gICAgICAgIGJlZm9yZUVhY2goYXN5bmMoKSA9PiB7XHJcbiAgICAgICAgICAgIGZha2VJZCA9ICc1ZWUwZWQ5YTYwM2EwYTRmM2M2NTBmZTEnXHJcbiAgICAgICAgfSlcclxuICAgICAgICBpdCgnc291bGQgZmFpbCB3aGVuIHVzZXIgaWQgaGFzIG5vIGNoYXQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFkZENvbWVudChmYWtlSWQsIGZha2VJZCwgY29tZW50KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmV4aXN0XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmVxdWFsKGB1c2VyIHdpdGggaWQgJHtmYWtlSWR9IGRvbnQgZXhpc3RzYClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuICAgIGFmdGVyRWFjaCgoKSA9PiBXb3JrZXIuZGVsZXRlTWFueSgpLCBVc2VyLmRlbGV0ZU1hbnkoKSlcclxuXHJcbiAgICBhZnRlcihtb25nb29zZS5kaXNjb25uZWN0KVxyXG59KSJdfQ==